# This file defines the test matrix for the T3000 perf tests pipeline.

# Each entry represents a parallel job with the following keys:
#   name: The display name for the job in GitHub Actions.
#   cmd: The command to run in the script tests/scripts/t3000/run_t3000_perf_tests.sh.
#   skus: A mapping of SKU names to their configuration (each SKU has timeout in minutes).
#   owner_id: The Slack user ID to notify on failure.
#   team: The team that owns the test.
#   model-name: The model name for filtering (used with the model input parameter).
#   model-type: The model type (LLM, CNN, DiT, ViT) for artifact naming.

# For max allowed timeout refer to .github/time_budget.yaml

- name: t3k_LLM_falcon7b_model_perf_tests
  cmd: run_t3000_falcon7b_tests
  skus:
    wh_llmbox:
      timeout: 75
  owner_id: U05RWH3QUPM # Salar Hosseini
  team: models
  model-name: falcon7b
  model-type: LLM

- name: t3k_LLM_falcon40b_model_perf_tests
  cmd: run_t3000_falcon40b_tests
  skus:
    wh_llmbox:
      timeout: 75
  owner_id: U053W15B6JF # Djordje Ivanovic
  team: models
  model-name: falcon40b
  model-type: LLM

- name: t3k_CNN_resnet50_model_perf_tests
  cmd: run_t3000_resnet50_tests
  skus:
    wh_llmbox:
      timeout: 75
  owner_id: U0837MYG788 # Marko Radosavljevic
  team: models
  model-name: resnet50
  model-type: CNN

- name: t3k_CNN_sentence_bert_model_perf_tests
  cmd: run_t3000_sentence_bert_tests
  skus:
    wh_llmbox:
      timeout: 75
  owner_id: U045U3DEKM4 # Mohamed Bahnas (Aniruddha Tupe)
  team: models
  model-name: sentence_bert
  model-type: LLM

- name: t3k_DiT_SD3.5_model_perf_tests
  cmd: run_t3000_stable_diffusion_35_large_tests
  skus:
    wh_llmbox:
      timeout: 75
  owner_id: U03FJB5TM5Y # Colman Glagovich
  team: models
  model-name: stable_diffusion_35_large
  model-type: DiT
  save-perf-data: true

- name: t3k_DiT_Mochi_model_perf_tests
  cmd: run_t3000_mochi_tests
  skus:
    wh_llmbox:
      timeout: 75
  owner_id: U09ELB03XRU # Stephen Osborne
  team: models
  model-name: mochi
  model-type: DiT
  save-perf-data: true

- name: t3k_DiT_Wan2.2_model_perf_tests
  cmd: run_t3000_wan22_tests
  skus:
    wh_llmbox:
      timeout: 45
  owner_id: U03FJB5TM5Y # Colman Glagovich
  team: models
  model-name: wan22
  model-type: DiT
  save-perf-data: true

- name: t3k_DiT_Flux.1-dev_model_perf_tests
  cmd: run_t3000_flux1_tests
  skus:
    wh_llmbox:
      timeout: 50
  owner_id: U08TED0JM9D # Samuel Adesoye
  team: models
  model-name: flux1-dev
  model-type: DiT
  save-perf-data: true

- name: t3k_DiT_Motif_model_perf_tests
  cmd: run_t3000_motif_tests
  skus:
    wh_llmbox:
      timeout: 15
  owner_id: U08TED0JM9D # Samuel Adesoye
  team: models
  model-name: motif
  model-type: DiT
  save-perf-data: true

- name: t3k_DiT_QwenImage_model_perf_tests
  cmd: run_t3000_qwenimage_tests
  skus:
    wh_llmbox:
      timeout: 25
  owner_id: U08TED0JM9D # Samuel Adesoye
  team: models
  model-name: qwenimage
  model-type: DiT
  save-perf-data: true

- name: t3k_ViT_Gemma3_perf_tests
  cmd: run_t3000_gemma3_tests
  skus:
    wh_llmbox:
      timeout: 75
  owner_id: U093901FR8U # Milos Stojko
  team: models
  model-name: gemma-3-27b-it
  model-type: ViT

- name: t3k_ViT_Gemma3_perf_tests_op_to_op
  cmd: run_t3000_gemma3_tests_op_to_op
  skus:
    wh_llmbox:
      timeout: 25
  owner_id: U094PKWHNJ0 # Petar Milojevic
  team: models
  model-name: gemma-3-27b-it
  model-type: ViT
