# PSD for testing build_physical_multi_mesh_adjacency_graph
# This represents a multi-host, multi-mesh system with increased connectivity
# Host0: ASICs 1, 2, 5, 6
# Host1: ASICs 3, 4, 7, 8
# Note: target_device_type: 0 = Silicon
target_device_type: 0
system_graph {
  # Host0 ASIC connectivity
  asic_connectivity_graph {
    host_name: "host0"
    asic_topologies {
      asic_id: 1
      topology {
        # Local connection to ASIC 2 (2 links)
        asic_connections {
          dst_asic_id: 2
          eth_connections {
            src_chan: 0
            dst_chan: 0
            is_local: true
          }
          eth_connections {
            src_chan: 1
            dst_chan: 1
            is_local: true
          }
        }
        # Cross-host connection to ASIC 3 (2 links)
        asic_connections {
          dst_asic_id: 3
          eth_connections {
            src_chan: 2
            dst_chan: 2
            is_local: false
          }
          eth_connections {
            src_chan: 3
            dst_chan: 3
            is_local: false
          }
        }
      }
    }
    asic_topologies {
      asic_id: 2
      topology {
        # Local connection to ASIC 1 (2 links)
        asic_connections {
          dst_asic_id: 1
          eth_connections {
            src_chan: 0
            dst_chan: 0
            is_local: true
          }
          eth_connections {
            src_chan: 1
            dst_chan: 1
            is_local: true
          }
        }
        # Cross-host connection to ASIC 4 (2 links)
        asic_connections {
          dst_asic_id: 4
          eth_connections {
            src_chan: 2
            dst_chan: 2
            is_local: false
          }
          eth_connections {
            src_chan: 3
            dst_chan: 3
            is_local: false
          }
        }
        # Local connection to ASIC 5 (1 link)
        asic_connections {
          dst_asic_id: 5
          eth_connections {
            src_chan: 4
            dst_chan: 4
            is_local: true
          }
        }
      }
    }
    asic_topologies {
      asic_id: 5
      topology {
        # Local connection to ASIC 6 (2 links)
        asic_connections {
          dst_asic_id: 6
          eth_connections {
            src_chan: 0
            dst_chan: 0
            is_local: true
          }
          eth_connections {
            src_chan: 1
            dst_chan: 1
            is_local: true
          }
        }
        # Cross-host connection to ASIC 7 (2 links)
        asic_connections {
          dst_asic_id: 7
          eth_connections {
            src_chan: 2
            dst_chan: 2
            is_local: false
          }
          eth_connections {
            src_chan: 3
            dst_chan: 3
            is_local: false
          }
        }
        # Local connection to ASIC 2 (1 link)
        asic_connections {
          dst_asic_id: 2
          eth_connections {
            src_chan: 4
            dst_chan: 4
            is_local: true
          }
        }
      }
    }
    asic_topologies {
      asic_id: 6
      topology {
        # Local connection to ASIC 5 (2 links)
        asic_connections {
          dst_asic_id: 5
          eth_connections {
            src_chan: 0
            dst_chan: 0
            is_local: true
          }
          eth_connections {
            src_chan: 1
            dst_chan: 1
            is_local: true
          }
        }
        # Cross-host connection to ASIC 8 (2 links)
        asic_connections {
          dst_asic_id: 8
          eth_connections {
            src_chan: 2
            dst_chan: 2
            is_local: false
          }
          eth_connections {
            src_chan: 3
            dst_chan: 3
            is_local: false
          }
        }
      }
    }
  }
  # Host1 ASIC connectivity
  asic_connectivity_graph {
    host_name: "host1"
    asic_topologies {
      asic_id: 3
      topology {
        # Local connection to ASIC 4 (2 links)
        asic_connections {
          dst_asic_id: 4
          eth_connections {
            src_chan: 0
            dst_chan: 0
            is_local: true
          }
          eth_connections {
            src_chan: 1
            dst_chan: 1
            is_local: true
          }
        }
        # Cross-host connection to ASIC 1 (2 links)
        asic_connections {
          dst_asic_id: 1
          eth_connections {
            src_chan: 2
            dst_chan: 2
            is_local: false
          }
          eth_connections {
            src_chan: 3
            dst_chan: 3
            is_local: false
          }
        }
      }
    }
    asic_topologies {
      asic_id: 4
      topology {
        # Local connection to ASIC 3 (2 links)
        asic_connections {
          dst_asic_id: 3
          eth_connections {
            src_chan: 0
            dst_chan: 0
            is_local: true
          }
          eth_connections {
            src_chan: 1
            dst_chan: 1
            is_local: true
          }
        }
        # Cross-host connection to ASIC 2 (2 links)
        asic_connections {
          dst_asic_id: 2
          eth_connections {
            src_chan: 2
            dst_chan: 2
            is_local: false
          }
          eth_connections {
            src_chan: 3
            dst_chan: 3
            is_local: false
          }
        }
        # Local connection to ASIC 7 (1 link)
        asic_connections {
          dst_asic_id: 7
          eth_connections {
            src_chan: 4
            dst_chan: 4
            is_local: true
          }
        }
      }
    }
    asic_topologies {
      asic_id: 7
      topology {
        # Local connection to ASIC 8 (2 links)
        asic_connections {
          dst_asic_id: 8
          eth_connections {
            src_chan: 0
            dst_chan: 0
            is_local: true
          }
          eth_connections {
            src_chan: 1
            dst_chan: 1
            is_local: true
          }
        }
        # Cross-host connection to ASIC 5 (2 links)
        asic_connections {
          dst_asic_id: 5
          eth_connections {
            src_chan: 2
            dst_chan: 2
            is_local: false
          }
          eth_connections {
            src_chan: 3
            dst_chan: 3
            is_local: false
          }
        }
        # Local connection to ASIC 4 (1 link)
        asic_connections {
          dst_asic_id: 4
          eth_connections {
            src_chan: 4
            dst_chan: 4
            is_local: true
          }
        }
      }
    }
    asic_topologies {
      asic_id: 8
      topology {
        # Local connection to ASIC 7 (2 links)
        asic_connections {
          dst_asic_id: 7
          eth_connections {
            src_chan: 0
            dst_chan: 0
            is_local: true
          }
          eth_connections {
            src_chan: 1
            dst_chan: 1
            is_local: true
          }
        }
        # Cross-host connection to ASIC 6 (2 links)
        asic_connections {
          dst_asic_id: 6
          eth_connections {
            src_chan: 2
            dst_chan: 2
            is_local: false
          }
          eth_connections {
            src_chan: 3
            dst_chan: 3
            is_local: false
          }
        }
      }
    }
  }
  # Host connectivity graph (cross-host connections)
  host_connectivity_graph {
    src_host_name: "host0"
    host_connections {
      dst_host_name: "host1"
      # 1 -> 3 (Chan 2)
      exit_node_connections {
        src_exit_node: 1
        dst_exit_node: 3
        eth_conn {
          src_chan: 2
          dst_chan: 2
          is_local: false
        }
      }
      # 1 -> 3 (Chan 3)
      exit_node_connections {
        src_exit_node: 1
        dst_exit_node: 3
        eth_conn {
          src_chan: 3
          dst_chan: 3
          is_local: false
        }
      }
      # 2 -> 4 (Chan 2)
      exit_node_connections {
        src_exit_node: 2
        dst_exit_node: 4
        eth_conn {
          src_chan: 2
          dst_chan: 2
          is_local: false
        }
      }
      # 2 -> 4 (Chan 3)
      exit_node_connections {
        src_exit_node: 2
        dst_exit_node: 4
        eth_conn {
          src_chan: 3
          dst_chan: 3
          is_local: false
        }
      }
      # 5 -> 7 (Chan 2)
      exit_node_connections {
        src_exit_node: 5
        dst_exit_node: 7
        eth_conn {
          src_chan: 2
          dst_chan: 2
          is_local: false
        }
      }
      # 5 -> 7 (Chan 3)
      exit_node_connections {
        src_exit_node: 5
        dst_exit_node: 7
        eth_conn {
          src_chan: 3
          dst_chan: 3
          is_local: false
        }
      }
      # 6 -> 8 (Chan 2)
      exit_node_connections {
        src_exit_node: 6
        dst_exit_node: 8
        eth_conn {
          src_chan: 2
          dst_chan: 2
          is_local: false
        }
      }
      # 6 -> 8 (Chan 3)
      exit_node_connections {
        src_exit_node: 6
        dst_exit_node: 8
        eth_conn {
          src_chan: 3
          dst_chan: 3
          is_local: false
        }
      }
    }
  }
  host_connectivity_graph {
    src_host_name: "host1"
    host_connections {
      dst_host_name: "host0"
      # 3 -> 1 (Chan 2)
      exit_node_connections {
        src_exit_node: 3
        dst_exit_node: 1
        eth_conn {
          src_chan: 2
          dst_chan: 2
          is_local: false
        }
      }
      # 3 -> 1 (Chan 3)
      exit_node_connections {
        src_exit_node: 3
        dst_exit_node: 1
        eth_conn {
          src_chan: 3
          dst_chan: 3
          is_local: false
        }
      }
      # 4 -> 2 (Chan 2)
      exit_node_connections {
        src_exit_node: 4
        dst_exit_node: 2
        eth_conn {
          src_chan: 2
          dst_chan: 2
          is_local: false
        }
      }
      # 4 -> 2 (Chan 3)
      exit_node_connections {
        src_exit_node: 4
        dst_exit_node: 2
        eth_conn {
          src_chan: 3
          dst_chan: 3
          is_local: false
        }
      }
      # 7 -> 5 (Chan 2)
      exit_node_connections {
        src_exit_node: 7
        dst_exit_node: 5
        eth_conn {
          src_chan: 2
          dst_chan: 2
          is_local: false
        }
      }
      # 7 -> 5 (Chan 3)
      exit_node_connections {
        src_exit_node: 7
        dst_exit_node: 5
        eth_conn {
          src_chan: 3
          dst_chan: 3
          is_local: false
        }
      }
      # 8 -> 6 (Chan 2)
      exit_node_connections {
        src_exit_node: 8
        dst_exit_node: 6
        eth_conn {
          src_chan: 2
          dst_chan: 2
          is_local: false
        }
      }
      # 8 -> 6 (Chan 3)
      exit_node_connections {
        src_exit_node: 8
        dst_exit_node: 6
        eth_conn {
          src_chan: 3
          dst_chan: 3
          is_local: false
        }
      }
    }
  }
}
# ASIC descriptors for host0
asic_descriptors {
  asic_id: 1
  asic_descriptor {
    tray_id: 0
    asic_location: 0
    board_type: 1
    unique_id: 1
    host_name: "host0"
  }
}
asic_descriptors {
  asic_id: 2
  asic_descriptor {
    tray_id: 0
    asic_location: 1
    board_type: 1
    unique_id: 2
    host_name: "host0"
  }
}
asic_descriptors {
  asic_id: 5
  asic_descriptor {
    tray_id: 0
    asic_location: 2
    board_type: 1
    unique_id: 5
    host_name: "host0"
  }
}
asic_descriptors {
  asic_id: 6
  asic_descriptor {
    tray_id: 0
    asic_location: 3
    board_type: 1
    unique_id: 6
    host_name: "host0"
  }
}
# ASIC descriptors for host1
asic_descriptors {
  asic_id: 3
  asic_descriptor {
    tray_id: 0
    asic_location: 0
    board_type: 1
    unique_id: 3
    host_name: "host1"
  }
}
asic_descriptors {
  asic_id: 4
  asic_descriptor {
    tray_id: 0
    asic_location: 1
    board_type: 1
    unique_id: 4
    host_name: "host1"
  }
}
asic_descriptors {
  asic_id: 7
  asic_descriptor {
    tray_id: 0
    asic_location: 2
    board_type: 1
    unique_id: 7
    host_name: "host1"
  }
}
asic_descriptors {
  asic_id: 8
  asic_descriptor {
    tray_id: 0
    asic_location: 3
    board_type: 1
    unique_id: 8
    host_name: "host1"
  }
}
# Host to rank mapping
host_to_rank {
  host_name: "host0"
  rank: 0
}
host_to_rank {
  host_name: "host1"
  rank: 1
}
# Exit node connection table
exit_node_connection_table {
  host_name: "host0"
  exit_connections {
    src_exit_node: 1
    dst_exit_node: 3
    eth_conn {
      src_chan: 2
      dst_chan: 2
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 1
    dst_exit_node: 3
    eth_conn {
      src_chan: 3
      dst_chan: 3
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 2
    dst_exit_node: 4
    eth_conn {
      src_chan: 2
      dst_chan: 2
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 2
    dst_exit_node: 4
    eth_conn {
      src_chan: 3
      dst_chan: 3
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 5
    dst_exit_node: 7
    eth_conn {
      src_chan: 2
      dst_chan: 2
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 5
    dst_exit_node: 7
    eth_conn {
      src_chan: 3
      dst_chan: 3
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 6
    dst_exit_node: 8
    eth_conn {
      src_chan: 2
      dst_chan: 2
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 6
    dst_exit_node: 8
    eth_conn {
      src_chan: 3
      dst_chan: 3
      is_local: false
    }
  }
}
exit_node_connection_table {
  host_name: "host1"
  exit_connections {
    src_exit_node: 3
    dst_exit_node: 1
    eth_conn {
      src_chan: 2
      dst_chan: 2
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 3
    dst_exit_node: 1
    eth_conn {
      src_chan: 3
      dst_chan: 3
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 4
    dst_exit_node: 2
    eth_conn {
      src_chan: 2
      dst_chan: 2
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 4
    dst_exit_node: 2
    eth_conn {
      src_chan: 3
      dst_chan: 3
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 7
    dst_exit_node: 5
    eth_conn {
      src_chan: 2
      dst_chan: 2
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 7
    dst_exit_node: 5
    eth_conn {
      src_chan: 3
      dst_chan: 3
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 8
    dst_exit_node: 6
    eth_conn {
      src_chan: 2
      dst_chan: 2
      is_local: false
    }
  }
  exit_connections {
    src_exit_node: 8
    dst_exit_node: 6
    eth_conn {
      src_chan: 3
      dst_chan: 3
      is_local: false
    }
  }
}
ethernet_firmware_version {
  major: 1
  minor: 0
  patch: 0
}
