# Example: Mesh Defined by ASIC Locations
# This example shows meshes defined directly at the ASIC location level

# Custom meshes defined directly at ASIC location level
groupings {
  custom_name: "meshes"
  instances: [
    { id: 0 asic_location: ASIC_LOCATION_1 }  # Each mesh uses 1 ASIC location (smaller mesh example)
  ]
}

groupings {
  custom_name: "pods"
  instances: [
    { id: 0 grouping_ref { custom_name: "meshes" } },
    { id: 1 grouping_ref { custom_name: "meshes" } }
  ]
  all_to_all { num_connections: 2 }
}

groupings {
  custom_name: "superpods"
  instances: [
    { id: 0 grouping_ref { custom_name: "pods" } },  # Each superpod contains 2 pods
    { id: 1 grouping_ref { custom_name: "pods" } }
  ]
  all_to_all { num_connections: 2 }
}

groupings {
  custom_name: "clusters"
  instances: [
    { id: 0 grouping_ref { custom_name: "superpods" } },  # Each cluster contains 2 superpods
    { id: 1 grouping_ref { custom_name: "superpods" } }
  ]
  all_to_all { num_connections: 2 }
}
