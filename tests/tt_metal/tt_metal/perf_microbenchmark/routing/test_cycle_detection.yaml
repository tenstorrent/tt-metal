# Simple YAML for testing cycle detection
# Includes all-to-all unicast and randomized pairing patterns
# Enables check_for_cycles

Tests:
  - name: "CycleDetectionAllToAllUnicast"
    check_for_cycles: true

    fabric_setup:
      topology: Torus  # Assuming 2D dynamic for cycle potential
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: unicast
      ntype: unicast_write
      size: 1024
      num_packets: 100

    patterns:
      - type: all_to_all

  - name: "CycleDetectionRandomPairing"
    check_for_cycles: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: unicast
      ntype: unicast_write
      size: 1024
      num_packets: 100

    patterns:
      - type: full_device_random_pairing
        iterations: 3
