allocation_policies:
    receiver:
      max_configs_per_core: 1

Tests:

# ================================================
# 2D Torus (XY) (low latency)
# ================================================
# ================================================
# East tests
# ================================================
  - name: "TorusXYLowLatencyMcastEast1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastEast2Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# West tests
# ================================================

  - name: "TorusXYLowLatencyMcastWest1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastWest2Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# North tests
# ================================================

  - name: "TorusXYLowLatencyMcastNorth1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth2Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth3Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth4Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 4

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth5Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 5

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth6Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 6

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# South tests
# ================================================

  - name: "TorusXYLowLatencyMcastSouth1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth2Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth3Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth4Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 4

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth5Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 5

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth6Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 6

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# NorthEast tests
# ================================================

  - name: "TorusXYLowLatencyMcastNorth1East1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          E: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth1East2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          E: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth1East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth2East2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          E: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth2East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth3East2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          E: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth3East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth4East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 4
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth5East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 5
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth6East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 6
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# NorthWest tests
# ================================================

  - name: "TorusXYLowLatencyMcastNorth1West1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth1West2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth1West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth2West2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth2West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth3West2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth3West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth4West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 4
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth5West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 5
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth6West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 6
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# SouthEast tests
# ================================================

  - name: "TorusXYLowLatencyMcastSouth1East1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 1
          E: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth1East2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 1
          E: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth1East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 1
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth2East2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 2
          E: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth2East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 2
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth3East2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 3
          E: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth3East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 3
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth4East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 4
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth5East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 5
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth6East3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 6
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# SouthWest tests
# ================================================

  - name: "TorusXYLowLatencyMcastSouth1West1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 1
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth1West2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 1
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth1West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 1
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth2West2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 2
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth2West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 2
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth3West2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 3
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth3West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 3
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth4West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 4
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth5West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 5
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastSouth6West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 6
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# NorthSouth tests
# ================================================

  - name: "TorusXYLowLatencyMcastNorth1South1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          S: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth1South2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          S: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth1South3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          S: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth2South2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          S: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth2South3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          S: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth3South2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          S: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth3South3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          S: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth4South3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 4
          S: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastNorth3South4Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          S: 4

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# EastWest tests
# ================================================

  - name: "TorusXYLowLatencyMcastEast1West1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 1
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastEast1West2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 1
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastEast2West1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 2
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# AllDirs tests
# ================================================

  - name: "TorusXYLowLatencyMcastAllDirs1"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          S: 1
          E: 1
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastAllDirs2"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          S: 2
          E: 2
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastAllDirs3"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          S: 3
          E: 3
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastAllDirsAsymmetric1"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          S: 2
          E: 3
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastAllDirsAsymmetric2"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          S: 1
          E: 1
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastAllDirsAsymmetric3"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          S: 4
          E: 1
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYLowLatencyMcastAllDirsHeavy"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 5
          S: 6
          E: 2
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# 2D Torus (XY) (dynamic routing)
# ================================================
  - name: "TorusXYDynamicMcastEast"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastWest"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastSouth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorthEast"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 7
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorthWest"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 7
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastSouthEast"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: "XY"
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 7
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastSouthWest"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 7
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastAllDirs"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          S: 4
          E: 1
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# Additional Dynamic Routing Tests (comprehensive)
# ================================================

# Individual direction tests with multiple hop counts
  - name: "TorusXYDynamicMcastEast1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastEast2Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastWest1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastWest2Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth2Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth3Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth4Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 4

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth5Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 5

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth6Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 6

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastSouth1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastSouth2Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastSouth3Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastSouth4Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 4

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastSouth5Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 5

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastSouth6Hops"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 6

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# NorthSouth dynamic tests
  - name: "TorusXYDynamicMcastNorth1South1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          S: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth2South2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          S: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth3South3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          S: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastNorth4South4Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 4
          S: 4

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# EastWest dynamic tests
  - name: "TorusXYDynamicMcastEast1West1Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 1
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastEast2West2Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 2
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastEast3West3Hop"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 3
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# Additional all-direction dynamic tests
  - name: "TorusXYDynamicMcastAllDirs1"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 1
          S: 1
          E: 1
          W: 1

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastAllDirs2"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 2
          S: 2
          E: 2
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastAllDirs3"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 3
          S: 3
          E: 3
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYDynamicMcastAllDirsHeavy"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 5
          S: 6
          E: 2
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# 2D Torus (X) (low latency)
# ================================================
  - name: "TorusXLowLatencyMcastEast"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: X
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXLowLatencyMcastWest"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: X
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# 2D Torus (Y) (low latency)
# ================================================
  - name: "TorusYLowLatencyMcastNorth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: Y
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusYLowLatencyMcastSouth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: Y
      routing_type: LowLatency

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# 2D Torus (X) (dynamic routing)
# ================================================
  - name: "TorusXDynamicMcastEast"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: X
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXDynamicMcastWest"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: X
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# 2D Torus (Y) (dynamic routing)
# ================================================
  - name: "TorusYDynamicMcastNorth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: Y
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          N: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusYDynamicMcastSouth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: Y
      routing_type: Dynamic

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 512
      num_packets: 5000
      destination:
        hops:
          S: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3
