Tests:

# ================================================
# Fabric 2D Tests (Mesh and Torus)
# ================================================

  - name: "RandomPairing"
    enable_flow_control: true
    fabric_setup:
      topology: Mesh
      # topology: Torus
      # torus_config: XY
      num_links: 1

    parametrization_params:
      ftype: [unicast]
      ntype: [unicast_write, atomic_inc, fused_atomic_inc, unicast_scatter_write]
      size: [512, 1024, 2048, 4096]

    defaults:
      num_packets: 40000

    patterns:
      - type: full_device_random_pairing
        iterations: 10

  - name: "SequentialAllToAllMesh"
    enable_flow_control: true
    fabric_setup:
      topology: Mesh
      # topology: Torus
      # torus_config: XY
      num_links: 1

    parametrization_params:
      ftype: [unicast]
      ntype: [unicast_write, atomic_inc, fused_atomic_inc, unicast_scatter_write]
      size: [512, 1024, 2048, 4096]

    defaults:
      num_packets: 20000

    patterns:
      - type: sequential_all_to_all
        iterations: 10

  # - name: "AllToAll2DTorus"
  #   enable_flow_control: true
  #   fabric_setup:
  #     topology: Torus
  #     torus_config: XY
  #     num_links: 2

  #   parametrization_params:
  #     ftype: [unicast, mcast]
  #     ntype: [unicast_write, atomic_inc, fused_atomic_inc, unicast_scatter_write]
  #     size: [2048, 4096]

  #   defaults:
  #     num_packets: 20000

  #   patterns:
  #     - type: all_to_all
  #       iterations: 1
