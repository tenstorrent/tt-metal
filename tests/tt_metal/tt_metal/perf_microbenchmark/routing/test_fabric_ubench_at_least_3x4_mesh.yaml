allocation_policies:
    receiver:
      max_configs_per_core: 4

Tests:
  - name: "BalancedMeshUnicast"
    benchmark_mode: true
    sync: true
    fabric_setup:
      topology: Mesh

    parametrization_params:
      num_links: [1, 2, 3, 4]
      ntype: [unicast_write, fused_atomic_inc, unicast_scatter_write]

    defaults:
      ftype: unicast
      size: 4096
      num_packets: 200000

    senders:
      - device: [0, 1]
        patterns:
          - destination:
              device: [0, 7]
      - device: [0, 2]
        patterns:
          - destination:
              device: [0, 4]
      - device: [0, 4]
        patterns:
          - destination:
              device: [0, 7]
      - device: [0, 5]
        patterns:
          - destination:
              device: [0, 7]
      - device: [0, 6]
        patterns:
          - destination:
              device: [0, 4]
      - device: [0, 7]
        patterns:
          - destination:
              device: [0, 4]
      - device: [0, 9]
        patterns:
          - destination:
              device: [0, 7]
      - device: [0, 10]
        patterns:
          - destination:
              device: [0, 4]
