allocation_policies:
    receiver:
      max_configs_per_core: 2

Tests:
# ================================================
# 1D Ring
# ================================================
  - name: "LinearMcastEast"
    sync: true

    fabric_setup:
      topology: Ring
      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "LinearMcastWest"
    sync: true

    fabric_setup:
      topology: Ring
      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "LinearMcastNorth"
    sync: true

    fabric_setup:
      topology: Ring
      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          N: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "LinearMcastSouth"
    sync: true

    fabric_setup:
      topology: Ring
      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          S: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# 2D Torus (XY)
# ================================================
  - name: "TorusXYMcastEast"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYMcastWest"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYMcastNorth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          N: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYMcastSouth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          S: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYMcastNorthEast"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          N: 7
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYMcastNorthWest"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          N: 7
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYMcastSouthEast"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          S: 7
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYMcastSouthWest"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          S: 7
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXYMcastAllDirs"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: XY

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          N: 3
          S: 4
          E: 1
          W: 2

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# 2D Torus (X)
# ================================================
  - name: "TorusXMcastEast"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: X

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          E: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusXMcastWest"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: X

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          W: 3

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

# ================================================
# 2D Torus (Y)
# ================================================
  - name: "TorusYMcastNorth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: Y

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          N: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3

  - name: "TorusYMcastSouth"
    sync: true

    fabric_setup:
      topology: Torus
      torus_config: Y

      num_links: 2

    defaults:
      ftype: mcast
      ntype: unicast_write
      size: 256
      num_packets: 2000
      destination:
        hops:
          S: 7

    patterns:
      - type: all_devices_uniform_pattern
        iterations: 3
