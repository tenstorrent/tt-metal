<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TT-Metal 3D Topology Visualization</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        #container {
            width: 100vw;
            height: 100vh;
        }
        #panel {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 400px;
            max-height: 90vh;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }
        #panel.collapsed {
            width: 60px;
            height: 60px;
        }
        #panel-header {
            padding: 15px;
            background: rgba(52, 152, 219, 0.3);
            border-bottom: 2px solid #3498db;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        #panel-header h2 {
            margin: 0;
            font-size: 16px;
        }
        #toggle-btn {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
        }
        #panel-content {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }
        #panel.collapsed #panel-content {
            display: none;
        }
        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        .tab-btn {
            flex: 1;
            padding: 8px;
            background: rgba(52, 152, 219, 0.2);
            border: 1px solid #3498db;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .tab-btn:hover {
            background: rgba(52, 152, 219, 0.4);
        }
        .tab-btn.active {
            background: #3498db;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .search-box {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #555;
            border-radius: 5px;
            color: white;
            font-size: 12px;
        }
        .item-list {
            max-height: 400px;
            overflow-y: auto;
        }
        .item {
            padding: 10px;
            margin-bottom: 5px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            border-left: 3px solid #3498db;
            cursor: pointer;
            transition: all 0.2s;
        }
        .item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }
        .item.hidden {
            opacity: 0.4;
            border-left-color: #e74c3c;
        }
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        .item-header > div {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .item-title {
            font-weight: bold;
            font-size: 13px;
        }
        .item-details {
            font-size: 11px;
            color: #bbb;
        }
        .toggle-visibility {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 16px;
            padding: 5px;
        }
        .expand-btn {
            background: none;
            border: none;
            color: #3498db;
            cursor: pointer;
            font-size: 14px;
            padding: 5px;
            margin-left: 5px;
        }
        .connections-dropdown {
            display: none;
            margin-top: 8px;
            padding: 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 3px;
            border-left: 2px solid #2ecc71;
        }
        .connections-dropdown.expanded {
            display: block;
        }
        .connection-item {
            padding: 5px;
            margin: 3px 0;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 3px;
            font-size: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .connection-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }
        .connection-item.disabled {
            opacity: 0.4;
        }
        .stats {
            background: rgba(46, 204, 113, 0.1);
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            font-size: 12px;
        }
        .stats-row {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
        }
        .highlight {
            background: rgba(241, 196, 15, 0.3) !important;
            border-left-color: #f39c12 !important;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(52, 152, 219, 0.5);
            border-radius: 4px;
        }
        #info {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.85);
            padding: 15px;
            border-radius: 10px;
            font-size: 12px;
            max-width: 250px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
        }
        #info h1 {
            margin: 0 0 8px 0;
            font-size: 16px;
            color: #3498db;
        }
        #info p {
            margin: 3px 0;
        }
        .stat {
            color: #2ecc71;
            font-weight: bold;
        }
        #controls {
            position: absolute;
            top: 140px;
            left: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.85);
            padding: 12px 15px;
            border-radius: 10px;
            font-size: 11px;
            backdrop-filter: blur(10px);
            max-width: 280px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
            line-height: 1.4;
        }
        #legend {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            font-size: 12px;
            backdrop-filter: blur(10px);
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        .legend-color {
            width: 30px;
            height: 3px;
            margin-right: 10px;
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div id="container"></div>

    <div id="info">
        <h1>&#x1F537; TT-Metal Topology 3D</h1>
        <p><span class="stat">4</span> Chips</p>
        <p><span class="stat">8</span> Connections</p>
        <p>3D routing prevents overlaps</p>
    </div>

    <div id="controls">
        <strong>&#x1F3AE; Mouse Controls:</strong><br>
        <span style="font-size: 11px;">
        • <strong>Left Drag:</strong> Rotate view<br>
        • <strong>Right Drag / Shift+Drag:</strong> Pan<br>
        • <strong>Scroll:</strong> Smooth zoom<br>
        • <strong>Click:</strong> Select object<br>
        • <strong>Click again (same spot):</strong> Cycle overlapping<br>
        </span>
        <strong style="margin-top: 8px; display: block;">&#x2328; Keyboard:</strong><br>
        <span style="font-size: 11px;">
        • <strong>WASD:</strong> Pan (left/right/forward/back)<br>
        • <strong>Q/E:</strong> Move up/down<br>
        • <strong>Arrows:</strong> Rotate camera<br>
        • <strong>+/-:</strong> Zoom in/out<br>
        • <strong>R:</strong> Reset view<br>
        </span>
        <span style="color: #2ecc71; font-size: 9px; margin-top: 5px; display: block;">&#x1F4A1; Very precise clicking - aim directly at lines</span>
        <span style="color: #1abc9c; font-size: 9px;">Teal = hover preview | Orange = selected</span>
        <span style="color: #95a5a6; font-size: 9px;">Thin lines won't block chips behind them</span>
    </div>

    <div id="panel">
        <div id="panel-header" onclick="togglePanel()">
            <h2>&#x1F4CA; Control Panel</h2>
            <button id="toggle-btn">&minus;</button>
        </div>
        <div id="panel-content">
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="switchTab('chips')">Chips</button>
                <button class="tab-btn" onclick="switchTab('connections')">Connections</button>
            </div>

            <div id="chips-tab" class="tab-content active">
                <input type="text" class="search-box" id="chip-search" placeholder="&#x1F50D; Search chips..." onkeyup="filterChips()">
                <div class="stats">
                    <div class="stats-row">
                        <span>Total Chips:</span>
                        <span id="total-chips">0</span>
                    </div>
                    <div class="stats-row">
                        <span>Visible:</span>
                        <span id="visible-chips">0</span>
                    </div>
                </div>
                <div class="item-list" id="chip-list"></div>
            </div>

            <div id="connections-tab" class="tab-content">
                <input type="text" class="search-box" id="conn-search" placeholder="&#x1F50D; Search connections..." onkeyup="filterConnections()">
                <div class="stats">
                    <div class="stats-row">
                        <span>Total Links:</span>
                        <span id="total-connections">0</span>
                    </div>
                    <div class="stats-row">
                        <span>Visible:</span>
                        <span id="visible-connections">0</span>
                    </div>
                </div>
                <div class="item-list" id="connection-list"></div>
            </div>
        </div>
    </div>

    <div id="legend">
        <strong>NOC Tile Types:</strong><br>
        <div class="legend-item">
            <div class="legend-color" style="background: #3498db; width: 20px; height: 6px;"></div>
            <span>Worker/Tensix</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #ff8c00; width: 20px; height: 6px;"></div>
            <span>Ethernet</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #27ae60; width: 20px; height: 6px;"></div>
            <span>DRAM</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #9b59b6; width: 20px; height: 6px;"></div>
            <span>ARC</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #f39c12; width: 20px; height: 6px;"></div>
            <span>PCIE</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #16a085; width: 20px; height: 6px;"></div>
            <span>Router</span>
        </div>
        <hr style="border: 1px solid rgba(255,255,255,0.2); margin: 10px 0;">
        <strong>Connection Types:</strong><br>
        <div class="legend-item">
            <div class="legend-color" style="background: #3498db;"></div>
            <span>Same Tray - Adjacent</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #9b59b6;"></div>
            <span>Same Tray - Diagonal</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #2ecc71;"></div>
            <span>Cross-Tray - Aligned</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #e74c3c;"></div>
            <span>Cross-Tray - Diagonal</span>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Data structures for tracking objects
        const chipObjects = [];
        const connectionObjects = [];
        const expandedChips = new Set();

        // Ethernet channel to NOC coordinate mapping
        const ethChannelToNoc = [
            {x: 9, y: 0},   // Ch 0
            {x: 1, y: 0},   // Ch 1
            {x: 8, y: 0},   // Ch 2
            {x: 2, y: 0},   // Ch 3
            {x: 7, y: 0},   // Ch 4
            {x: 3, y: 0},   // Ch 5
            {x: 6, y: 0},   // Ch 6
            {x: 4, y: 0},   // Ch 7
            {x: 9, y: 6},   // Ch 8
            {x: 1, y: 6},   // Ch 9
            {x: 8, y: 6},   // Ch 10
            {x: 2, y: 6},   // Ch 11
            {x: 7, y: 6},   // Ch 12
            {x: 3, y: 6},   // Ch 13
            {x: 6, y: 6},   // Ch 14
            {x: 4, y: 6}    // Ch 15
        ];

        // Setup scene, camera, renderer
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x1a1a2e);
        scene.fog = new THREE.Fog(0x1a1a2e, 50, 150);

        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(20, 10, 30);
        camera.lookAt(12, 7.5, 4);  // Look at center of rack (4 trays at 5 units each)

        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        document.getElementById('container').appendChild(renderer.domElement);

        // Add lights
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(20, 30, 20);
        directionalLight.castShadow = true;
        directionalLight.shadow.mapSize.width = 2048;
        directionalLight.shadow.mapSize.height = 2048;
        scene.add(directionalLight);

        const pointLight = new THREE.PointLight(0x3498db, 0.5);
        pointLight.position.set(-10, 15, -10);
        scene.add(pointLight);

        // Add grid helper on ground
        const gridHelper = new THREE.GridHelper(40, 15, 0x444444, 0x222222);
        gridHelper.position.y = -1;
        gridHelper.position.x = 12;
        gridHelper.position.z = 4;
        scene.add(gridHelper);

        // Add chips
        {
            // Create chip group with NOC grid
            const chipGroup = new THREE.Group();
            chipGroup.position.set(0, 0, 0);
            
            // Render NOC grid (10x12)
            const tileSize = 0.25;
            const tileSpacing = 0.03;
            const tileGeo = new THREE.BoxGeometry(tileSize, 0.15, tileSize);
            
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xf39c12,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xf39c12,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0xf39c12;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x9b59b6,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x9b59b6,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x9b59b6;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            scene.add(chipGroup);
            
            // Add chip label with spatial info
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 256;
            canvas.height = 160;
            context.fillStyle = '#ecf0f1';
            context.font = 'bold 40px Arial';
            context.textAlign = 'center';
            context.fillText('Chip 0', 128, 40);
            context.font = 'bold 32px Arial';
            context.fillStyle = '#3498db';
            context.fillText('Tray 1 / Loc 1', 128, 80);
            context.fillStyle = '#95a5a6';
            context.font = '28px Arial';
            context.fillText('4 links', 128, 115);
            const texture = new THREE.CanvasTexture(canvas);
            const labelGeo = new THREE.PlaneGeometry(2.2, 1.4);
            const labelMat = new THREE.MeshBasicMaterial({ map: texture, transparent: true });
            const label = new THREE.Mesh(labelGeo, labelMat);
            label.position.set(0, 0 + 0.5, 0);
            label.rotation.x = -Math.PI / 2;
            scene.add(label);
            
            chipObjects.push({
                id: 0,
                mesh: chipGroup,
                label: label,
                visible: true,
                connections: 4,
                tray: 1,
                location: 1,
                originalColor: 0x34495e
            });
        }
        {
            // Create chip group with NOC grid
            const chipGroup = new THREE.Group();
            chipGroup.position.set(8, 0, 0);
            
            // Render NOC grid (10x12)
            const tileSize = 0.25;
            const tileSpacing = 0.03;
            const tileGeo = new THREE.BoxGeometry(tileSize, 0.15, tileSize);
            
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xf39c12,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xf39c12,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0xf39c12;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x9b59b6,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x9b59b6,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x9b59b6;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            scene.add(chipGroup);
            
            // Add chip label with spatial info
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 256;
            canvas.height = 160;
            context.fillStyle = '#ecf0f1';
            context.font = 'bold 40px Arial';
            context.textAlign = 'center';
            context.fillText('Chip 1', 128, 40);
            context.font = 'bold 32px Arial';
            context.fillStyle = '#3498db';
            context.fillText('Tray 1 / Loc 2', 128, 80);
            context.fillStyle = '#95a5a6';
            context.font = '28px Arial';
            context.fillText('4 links', 128, 115);
            const texture = new THREE.CanvasTexture(canvas);
            const labelGeo = new THREE.PlaneGeometry(2.2, 1.4);
            const labelMat = new THREE.MeshBasicMaterial({ map: texture, transparent: true });
            const label = new THREE.Mesh(labelGeo, labelMat);
            label.position.set(8, 0 + 0.5, 0);
            label.rotation.x = -Math.PI / 2;
            scene.add(label);
            
            chipObjects.push({
                id: 1,
                mesh: chipGroup,
                label: label,
                visible: true,
                connections: 4,
                tray: 1,
                location: 2,
                originalColor: 0x34495e
            });
        }
        {
            // Create chip group with NOC grid
            const chipGroup = new THREE.Group();
            chipGroup.position.set(16, 0, 0);
            
            // Render NOC grid (10x12)
            const tileSize = 0.25;
            const tileSpacing = 0.03;
            const tileGeo = new THREE.BoxGeometry(tileSize, 0.15, tileSize);
            
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xf39c12,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xf39c12,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0xf39c12;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x9b59b6,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x9b59b6,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x9b59b6;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            scene.add(chipGroup);
            
            // Add chip label with spatial info
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 256;
            canvas.height = 160;
            context.fillStyle = '#ecf0f1';
            context.font = 'bold 40px Arial';
            context.textAlign = 'center';
            context.fillText('Chip 2', 128, 40);
            context.font = 'bold 32px Arial';
            context.fillStyle = '#3498db';
            context.fillText('Tray 1 / Loc 3', 128, 80);
            context.fillStyle = '#95a5a6';
            context.font = '28px Arial';
            context.fillText('4 links', 128, 115);
            const texture = new THREE.CanvasTexture(canvas);
            const labelGeo = new THREE.PlaneGeometry(2.2, 1.4);
            const labelMat = new THREE.MeshBasicMaterial({ map: texture, transparent: true });
            const label = new THREE.Mesh(labelGeo, labelMat);
            label.position.set(16, 0 + 0.5, 0);
            label.rotation.x = -Math.PI / 2;
            scene.add(label);
            
            chipObjects.push({
                id: 2,
                mesh: chipGroup,
                label: label,
                visible: true,
                connections: 4,
                tray: 1,
                location: 3,
                originalColor: 0x34495e
            });
        }
        {
            // Create chip group with NOC grid
            const chipGroup = new THREE.Group();
            chipGroup.position.set(24, 0, 0);
            
            // Render NOC grid (10x12)
            const tileSize = 0.25;
            const tileSpacing = 0.03;
            const tileGeo = new THREE.BoxGeometry(tileSize, 0.15, tileSize);
            
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xf39c12,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xf39c12,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0xf39c12;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x16a085,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x16a085,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x16a085;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x9b59b6,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x9b59b6,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x9b59b6;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-1.26, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 0;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.98, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 1;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.7, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 2;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.42, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 3;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(-0.14, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 4;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x27ae60,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x27ae60,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.14, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 5;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x27ae60;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.42, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 6;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.7, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 7;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(0.98, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 8;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 0;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 1;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 2;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 3;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 4;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, -0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 5;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0xff8c00,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0xff8c00,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.14);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 6;
                tile.userData.originalColor = 0xff8c00;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.42);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 7;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.7);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 8;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 0.98);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 9;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 1.26);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 10;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            {
                const tileMat = new THREE.MeshStandardMaterial({
                    color: 0x3498db,
                    metalness: 0.3,
                    roughness: 0.6,
                    emissive: 0x3498db,
                    emissiveIntensity: 0.15
                });
                const tile = new THREE.Mesh(tileGeo, tileMat);
                tile.position.set(1.26, 0.1, 1.54);
                tile.castShadow = true;
                tile.receiveShadow = true;
                tile.userData.nocX = 9;
                tile.userData.nocY = 11;
                tile.userData.originalColor = 0x3498db;
                chipGroup.add(tile);
            }
            scene.add(chipGroup);
            
            // Add chip label with spatial info
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 256;
            canvas.height = 160;
            context.fillStyle = '#ecf0f1';
            context.font = 'bold 40px Arial';
            context.textAlign = 'center';
            context.fillText('Chip 3', 128, 40);
            context.font = 'bold 32px Arial';
            context.fillStyle = '#3498db';
            context.fillText('Tray 1 / Loc 4', 128, 80);
            context.fillStyle = '#95a5a6';
            context.font = '28px Arial';
            context.fillText('4 links', 128, 115);
            const texture = new THREE.CanvasTexture(canvas);
            const labelGeo = new THREE.PlaneGeometry(2.2, 1.4);
            const labelMat = new THREE.MeshBasicMaterial({ map: texture, transparent: true });
            const label = new THREE.Mesh(labelGeo, labelMat);
            label.position.set(24, 0 + 0.5, 0);
            label.rotation.x = -Math.PI / 2;
            scene.add(label);
            
            chipObjects.push({
                id: 3,
                mesh: chipGroup,
                label: label,
                visible: true,
                connections: 4,
                tray: 1,
                location: 4,
                originalColor: 0x34495e
            });
        }

        // Add tray labels
        {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 200;
            canvas.height = 120;
            context.fillStyle = '#2ecc71';
            context.font = 'bold 48px Arial';
            context.textAlign = 'center';
            context.fillText('TRAY 1', 100, 50);
            context.fillStyle = '#95a5a6';
            context.font = '28px Arial';
            context.fillText('(2x4 layout)', 100, 90);
            const texture = new THREE.CanvasTexture(canvas);
            const labelGeo = new THREE.PlaneGeometry(3, 1.8);
            const labelMat = new THREE.MeshBasicMaterial({ map: texture, transparent: true, side: THREE.DoubleSide });
            const label = new THREE.Mesh(labelGeo, labelMat);
            label.position.set(12, 0, -6.4);
            scene.add(label);
        }
        {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 200;
            canvas.height = 120;
            context.fillStyle = '#2ecc71';
            context.font = 'bold 48px Arial';
            context.textAlign = 'center';
            context.fillText('TRAY 2', 100, 50);
            context.fillStyle = '#95a5a6';
            context.font = '28px Arial';
            context.fillText('(2x4 layout)', 100, 90);
            const texture = new THREE.CanvasTexture(canvas);
            const labelGeo = new THREE.PlaneGeometry(3, 1.8);
            const labelMat = new THREE.MeshBasicMaterial({ map: texture, transparent: true, side: THREE.DoubleSide });
            const label = new THREE.Mesh(labelGeo, labelMat);
            label.position.set(12, 5, -6.4);
            scene.add(label);
        }
        {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 200;
            canvas.height = 120;
            context.fillStyle = '#2ecc71';
            context.font = 'bold 48px Arial';
            context.textAlign = 'center';
            context.fillText('TRAY 3', 100, 50);
            context.fillStyle = '#95a5a6';
            context.font = '28px Arial';
            context.fillText('(2x4 layout)', 100, 90);
            const texture = new THREE.CanvasTexture(canvas);
            const labelGeo = new THREE.PlaneGeometry(3, 1.8);
            const labelMat = new THREE.MeshBasicMaterial({ map: texture, transparent: true, side: THREE.DoubleSide });
            const label = new THREE.Mesh(labelGeo, labelMat);
            label.position.set(12, 10, -6.4);
            scene.add(label);
        }
        {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 200;
            canvas.height = 120;
            context.fillStyle = '#2ecc71';
            context.font = 'bold 48px Arial';
            context.textAlign = 'center';
            context.fillText('TRAY 4', 100, 50);
            context.fillStyle = '#95a5a6';
            context.font = '28px Arial';
            context.fillText('(2x4 layout)', 100, 90);
            const texture = new THREE.CanvasTexture(canvas);
            const labelGeo = new THREE.PlaneGeometry(3, 1.8);
            const labelMat = new THREE.MeshBasicMaterial({ map: texture, transparent: true, side: THREE.DoubleSide });
            const label = new THREE.Mesh(labelGeo, labelMat);
            label.position.set(12, 15, -6.4);
            scene.add(label);
        }

        // Add connections
        {
            // Multi-point curve with spatial spreading
            const curve = new THREE.CatmullRomCurve3([
                new THREE.Vector3(0.98, 0.2, -1.54),
                new THREE.Vector3(2, 1.5, 12.36),
                new THREE.Vector3(6, 1.5, 12.36),
                new THREE.Vector3(7.02, 0.2, 0.14)
            ]);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineBasicMaterial({ 
                color: 0x3498db,
                linewidth: 2.5,
                opacity: 0.7,
                transparent: true
            });
            const line = new THREE.Line(geometry, material);
            line.userData = {
                src: 0,
                srcCh: 2,
                dst: 1,
                dstCh: 9
            };
            scene.add(line);
            
            connectionObjects.push({
                src: 0,
                srcCh: 2,
                dst: 1,
                dstCh: 9,
                line: line,
                visible: true,
                originalColor: 0x3498db,
                groupIndex: 0,
                groupSize: 2
            });
        }
        {
            // Multi-point curve with spatial spreading
            const curve = new THREE.CatmullRomCurve3([
                new THREE.Vector3(-0.7, 0.2, -1.54),
                new THREE.Vector3(2, 2.25, 15.24),
                new THREE.Vector3(6, 2.25, 15.24),
                new THREE.Vector3(9.26, 0.2, 0.14)
            ]);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineBasicMaterial({ 
                color: 0x3498db,
                linewidth: 2.5,
                opacity: 0.7,
                transparent: true
            });
            const line = new THREE.Line(geometry, material);
            line.userData = {
                src: 0,
                srcCh: 3,
                dst: 1,
                dstCh: 8
            };
            scene.add(line);
            
            connectionObjects.push({
                src: 0,
                srcCh: 3,
                dst: 1,
                dstCh: 8,
                line: line,
                visible: true,
                originalColor: 0x3498db,
                groupIndex: 1,
                groupSize: 2
            });
        }
        {
            // Multi-point curve with spatial spreading
            const curve = new THREE.CatmullRomCurve3([
                new THREE.Vector3(0.7, 0.2, -1.54),
                new THREE.Vector3(6, 2.125, 16.96),
                new THREE.Vector3(18, 2.125, 16.96),
                new THREE.Vector3(24.7, 0.2, -1.54)
            ]);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineBasicMaterial({ 
                color: 0x9b59b6,
                linewidth: 2.5,
                opacity: 0.7,
                transparent: true
            });
            const line = new THREE.Line(geometry, material);
            line.userData = {
                src: 0,
                srcCh: 4,
                dst: 3,
                dstCh: 4
            };
            scene.add(line);
            
            connectionObjects.push({
                src: 0,
                srcCh: 4,
                dst: 3,
                dstCh: 4,
                line: line,
                visible: true,
                originalColor: 0x9b59b6,
                groupIndex: 0,
                groupSize: 2
            });
        }
        {
            // Multi-point curve with spatial spreading
            const curve = new THREE.CatmullRomCurve3([
                new THREE.Vector3(-0.42, 0.2, -1.54),
                new THREE.Vector3(6, 2.875, 19.84),
                new THREE.Vector3(18, 2.875, 19.84),
                new THREE.Vector3(24.98, 0.2, -1.54)
            ]);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineBasicMaterial({ 
                color: 0x9b59b6,
                linewidth: 2.5,
                opacity: 0.7,
                transparent: true
            });
            const line = new THREE.Line(geometry, material);
            line.userData = {
                src: 0,
                srcCh: 5,
                dst: 3,
                dstCh: 2
            };
            scene.add(line);
            
            connectionObjects.push({
                src: 0,
                srcCh: 5,
                dst: 3,
                dstCh: 2,
                line: line,
                visible: true,
                originalColor: 0x9b59b6,
                groupIndex: 1,
                groupSize: 2
            });
        }
        {
            // Multi-point curve with spatial spreading
            const curve = new THREE.CatmullRomCurve3([
                new THREE.Vector3(8.98, 0.2, -1.54),
                new THREE.Vector3(10, 1.5, 12.36),
                new THREE.Vector3(14, 1.5, 12.36),
                new THREE.Vector3(15.58, 0.2, -1.54)
            ]);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineBasicMaterial({ 
                color: 0x3498db,
                linewidth: 2.5,
                opacity: 0.7,
                transparent: true
            });
            const line = new THREE.Line(geometry, material);
            line.userData = {
                src: 1,
                srcCh: 2,
                dst: 2,
                dstCh: 5
            };
            scene.add(line);
            
            connectionObjects.push({
                src: 1,
                srcCh: 2,
                dst: 2,
                dstCh: 5,
                line: line,
                visible: true,
                originalColor: 0x3498db,
                groupIndex: 0,
                groupSize: 2
            });
        }
        {
            // Multi-point curve with spatial spreading
            const curve = new THREE.CatmullRomCurve3([
                new THREE.Vector3(8.7, 0.2, -1.54),
                new THREE.Vector3(10, 2.25, 15.24),
                new THREE.Vector3(14, 2.25, 15.24),
                new THREE.Vector3(16.7, 0.2, -1.54)
            ]);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineBasicMaterial({ 
                color: 0x3498db,
                linewidth: 2.5,
                opacity: 0.7,
                transparent: true
            });
            const line = new THREE.Line(geometry, material);
            line.userData = {
                src: 1,
                srcCh: 4,
                dst: 2,
                dstCh: 4
            };
            scene.add(line);
            
            connectionObjects.push({
                src: 1,
                srcCh: 4,
                dst: 2,
                dstCh: 4,
                line: line,
                visible: true,
                originalColor: 0x3498db,
                groupIndex: 1,
                groupSize: 2
            });
        }
        {
            // Multi-point curve with spatial spreading
            const curve = new THREE.CatmullRomCurve3([
                new THREE.Vector3(16.98, 0.2, -1.54),
                new THREE.Vector3(18, 1.5, 12.36),
                new THREE.Vector3(22, 1.5, 12.36),
                new THREE.Vector3(23.02, 0.2, 0.14)
            ]);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineBasicMaterial({ 
                color: 0x3498db,
                linewidth: 2.5,
                opacity: 0.7,
                transparent: true
            });
            const line = new THREE.Line(geometry, material);
            line.userData = {
                src: 2,
                srcCh: 2,
                dst: 3,
                dstCh: 9
            };
            scene.add(line);
            
            connectionObjects.push({
                src: 2,
                srcCh: 2,
                dst: 3,
                dstCh: 9,
                line: line,
                visible: true,
                originalColor: 0x3498db,
                groupIndex: 0,
                groupSize: 2
            });
        }
        {
            // Multi-point curve with spatial spreading
            const curve = new THREE.CatmullRomCurve3([
                new THREE.Vector3(15.3, 0.2, -1.54),
                new THREE.Vector3(18, 2.25, 15.24),
                new THREE.Vector3(22, 2.25, 15.24),
                new THREE.Vector3(25.26, 0.2, 0.14)
            ]);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            const material = new THREE.LineBasicMaterial({ 
                color: 0x3498db,
                linewidth: 2.5,
                opacity: 0.7,
                transparent: true
            });
            const line = new THREE.Line(geometry, material);
            line.userData = {
                src: 2,
                srcCh: 3,
                dst: 3,
                dstCh: 8
            };
            scene.add(line);
            
            connectionObjects.push({
                src: 2,
                srcCh: 3,
                dst: 3,
                dstCh: 8,
                line: line,
                visible: true,
                originalColor: 0x3498db,
                groupIndex: 1,
                groupSize: 2
            });
        }


        // Mouse controls
        let isDragging = false;
        let isPanning = false;
        let previousMousePosition = { x: 0, y: 0 };
        let cameraRotation = { x: 0, y: 0 };
        let cameraDistance = 40;
        let targetCameraDistance = 40;
        let cameraLookAt = new THREE.Vector3(12, 7.5, 4); // Center of the cluster
        const minZoom = 5;
        const maxZoom = 120;

        renderer.domElement.addEventListener('mousedown', (e) => {
            // Right-click or Shift+Left-click for panning
            if (e.button === 2 || (e.button === 0 && e.shiftKey)) {
                isPanning = true;
                e.preventDefault();
            } else if (e.button === 0) {
                isDragging = true;
            }
            mouseMoved = false;
            mouseDownPos = { x: e.clientX, y: e.clientY };
            previousMousePosition = { x: e.clientX, y: e.clientY };
        });

        renderer.domElement.addEventListener('mousemove', (e) => {
            if (isPanning) {
                const deltaX = e.clientX - previousMousePosition.x;
                const deltaY = e.clientY - previousMousePosition.y;

                // Pan camera (translate look-at point)
                const panSpeed = 0.02;
                const right = new THREE.Vector3();
                const up = new THREE.Vector3(0, 1, 0);
                camera.getWorldDirection(right);
                right.cross(up).normalize();

                cameraLookAt.add(right.multiplyScalar(-deltaX * panSpeed));
                cameraLookAt.y += deltaY * panSpeed;

                previousMousePosition = { x: e.clientX, y: e.clientY };
                mouseMoved = true;
                updateCameraPosition();
            } else if (isDragging) {
                const deltaX = e.clientX - previousMousePosition.x;
                const deltaY = e.clientY - previousMousePosition.y;

                // Check if mouse moved significantly
                const totalDeltaX = e.clientX - mouseDownPos.x;
                const totalDeltaY = e.clientY - mouseDownPos.y;
                const distanceMoved = Math.sqrt(totalDeltaX * totalDeltaX + totalDeltaY * totalDeltaY);

                if (distanceMoved > 5) {
                    mouseMoved = true;
                }

                cameraRotation.y += deltaX * 0.005;
                cameraRotation.x += deltaY * 0.005;
                cameraRotation.x = Math.max(-Math.PI / 2 + 0.1, Math.min(Math.PI / 2 - 0.1, cameraRotation.x));

                previousMousePosition = { x: e.clientX, y: e.clientY };

                updateCameraPosition();
            }
        });

        renderer.domElement.addEventListener('mouseup', () => {
            isDragging = false;
            isPanning = false;
        });

        // Disable context menu on right-click
        renderer.domElement.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });

        renderer.domElement.addEventListener('wheel', (e) => {
            e.preventDefault();
            // Smooth zoom with better speed
            const zoomSpeed = e.deltaY > 0 ? 1.1 : 0.9;
            targetCameraDistance *= zoomSpeed;
            targetCameraDistance = Math.max(minZoom, Math.min(maxZoom, targetCameraDistance));
        });

        function updateCameraPosition() {
            // Smooth interpolation for zoom
            cameraDistance += (targetCameraDistance - cameraDistance) * 0.15;

            const offsetX = cameraDistance * Math.cos(cameraRotation.x) * Math.sin(cameraRotation.y);
            const offsetY = cameraDistance * Math.sin(cameraRotation.x);
            const offsetZ = cameraDistance * Math.cos(cameraRotation.x) * Math.cos(cameraRotation.y);

            camera.position.set(
                cameraLookAt.x + offsetX,
                cameraLookAt.y + offsetY,
                cameraLookAt.z + offsetZ
            );
            camera.lookAt(cameraLookAt);
        }

        // Keyboard controls
        const keys = {};
        window.addEventListener('keydown', (e) => {
            keys[e.key] = true;
        });
        window.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        function handleKeyboardControls() {
            const moveSpeed = 0.5;
            const rotateSpeed = 0.02;
            const zoomSpeed = 0.5;

            // WASD for panning
            if (keys['w'] || keys['W']) {
                cameraLookAt.z -= moveSpeed;
            }
            if (keys['s'] || keys['S']) {
                cameraLookAt.z += moveSpeed;
            }
            if (keys['a'] || keys['A']) {
                cameraLookAt.x -= moveSpeed;
            }
            if (keys['d'] || keys['D']) {
                cameraLookAt.x += moveSpeed;
            }

            // Q/E for vertical movement
            if (keys['q'] || keys['Q']) {
                cameraLookAt.y += moveSpeed;
            }
            if (keys['e'] || keys['E']) {
                cameraLookAt.y -= moveSpeed;
            }

            // Arrow keys for rotation
            if (keys['ArrowLeft']) {
                cameraRotation.y -= rotateSpeed;
            }
            if (keys['ArrowRight']) {
                cameraRotation.y += rotateSpeed;
            }
            if (keys['ArrowUp']) {
                cameraRotation.x -= rotateSpeed;
                cameraRotation.x = Math.max(-Math.PI / 2 + 0.1, cameraRotation.x);
            }
            if (keys['ArrowDown']) {
                cameraRotation.x += rotateSpeed;
                cameraRotation.x = Math.min(Math.PI / 2 - 0.1, cameraRotation.x);
            }

            // +/- for zoom
            if (keys['+'] || keys['=']) {
                targetCameraDistance *= 0.95;
                targetCameraDistance = Math.max(minZoom, targetCameraDistance);
            }
            if (keys['-'] || keys['_']) {
                targetCameraDistance *= 1.05;
                targetCameraDistance = Math.min(maxZoom, targetCameraDistance);
            }

            // R to reset view
            if (keys['r'] || keys['R']) {
                targetCameraDistance = 40;
                cameraRotation.x = 0;
                cameraRotation.y = 0;
                cameraLookAt.set(12, 7.5, 4);
                keys['r'] = false;
                keys['R'] = false;
            }
        }

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            handleKeyboardControls();
            updateCameraPosition();
            renderer.render(scene, camera);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Start animation
        animate();

        // Panel control functions
        function togglePanel() {
            const panel = document.getElementById('panel');
            const btn = document.getElementById('toggle-btn');
            panel.classList.toggle('collapsed');
            btn.textContent = panel.classList.contains('collapsed') ? '+' : '−';
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            if (tab === 'chips') {
                document.querySelector('.tab-btn:first-child').classList.add('active');
                document.getElementById('chips-tab').classList.add('active');
            } else {
                document.querySelector('.tab-btn:last-child').classList.add('active');
                document.getElementById('connections-tab').classList.add('active');
            }
        }

        function populateChipList() {
            const list = document.getElementById('chip-list');
            list.innerHTML = '';

            chipObjects.forEach((chipObj, index) => {
                // Find all connections for this chip
                const chipConnections = connectionObjects.filter(conn =>
                    conn.src === chipObj.id || conn.dst === chipObj.id
                );

                const item = document.createElement('div');
                item.className = 'item';
                item.id = `chip-item-${chipObj.id}`;

                let connectionsHtml = '';
                if (chipConnections.length > 0) {
                    const isExpanded = expandedChips.has(chipObj.id);
                    connectionsHtml = '<div class="connections-dropdown ' + (isExpanded ? 'expanded' : '') + '" id="chip-connections-' + chipObj.id + '">';
                    chipConnections.forEach(conn => {
                        const connIndex = connectionObjects.indexOf(conn);
                        const otherChip = conn.src === chipObj.id ? conn.dst : conn.src;
                        const direction = conn.src === chipObj.id ? '&rarr;' : '&larr;';
                        const directionId = conn.src === chipObj.id ? `from-${chipObj.id}` : `to-${chipObj.id}`;
                        connectionsHtml += `
                            <div class="connection-item ${conn.visible ? '' : 'disabled'}" id="chip-conn-${directionId}-${connIndex}">
                                <span>${direction} Chip ${otherChip} (Ch ${conn.src === chipObj.id ? conn.srcCh : conn.dstCh})</span>
                                <button class="toggle-visibility" onclick="event.stopPropagation(); toggleConnectionVisibility(${connIndex})">
                                    ${conn.visible ? '&#x1F441;' : '&#x1F576;'}
                                </button>
                            </div>
                        `;
                    });
                    connectionsHtml += '</div>';
                }

                const isExpanded = expandedChips.has(chipObj.id);
                const expandBtn = chipConnections.length > 0 ?
                    '<button class="expand-btn" onclick="event.stopPropagation(); toggleChipExpand(' + chipObj.id + ')">' +
                    (isExpanded ? '▲' : '▼') + '</button>' : '';

                item.innerHTML = `
                    <div class="item-header">
                        <span class="item-title">Chip ${chipObj.id}</span>
                        <div>
                            ${expandBtn}
                            <button class="toggle-visibility" onclick="event.stopPropagation(); toggleChipVisibility(${index})">
                                ${chipObj.visible ? '&#x1F441;' : '&#x1F576;'}
                            </button>
                        </div>
                    </div>
                    <div class="item-details">
                        <strong>Tray ${chipObj.tray}, Location ${chipObj.location}</strong><br>
                        ${chipObj.connections} connections
                    </div>
                    ${connectionsHtml}
                `;
                item.onclick = (e) => {
                    if (e.target.tagName !== 'BUTTON') {
                        highlightChip(index);
                    }
                };
                list.appendChild(item);
            });

            updateChipStats();
        }

        function populateConnectionList() {
            const list = document.getElementById('connection-list');
            list.innerHTML = '';

            connectionObjects.forEach((conn, index) => {
                const item = document.createElement('div');
                item.className = 'item';
                item.id = `conn-item-${index}`;
                item.innerHTML = `
                    <div class="item-header">
                        <span class="item-title">Chip ${conn.src} &rarr; ${conn.dst}</span>
                        <button class="toggle-visibility" onclick="toggleConnectionVisibility(${index})">
                            ${conn.visible ? '&#x1F441;' : '&#x1F576;'}
                        </button>
                    </div>
                    <div class="item-details">
                        Ch ${conn.srcCh} &rarr; Ch ${conn.dstCh} | Lane ${conn.groupIndex + 1}/${conn.groupSize}
                    </div>
                `;
                item.onclick = (e) => {
                    if (e.target.tagName !== 'BUTTON') {
                        highlightConnection(index);
                    }
                };

                // Add hover effect to temporarily pop up ethernet cores
                item.onmouseenter = (e) => {
                    if (e.target.tagName !== 'BUTTON') {
                        highlightConnection(index);
                    }
                };

                // Reset when mouse leaves
                item.onmouseleave = () => {
                    // Reset to normal view (all chips visible normally)
                    chipObjects.forEach(obj => {
                        obj.mesh.traverse((child) => {
                            if (child.isMesh && child.material && child.userData) {
                                if (!child.userData.originalColor) {
                                    child.userData.originalColor = child.material.color.getHex();
                                }
                                child.material.color.setHex(child.userData.originalColor);
                                child.material.emissive.setHex(child.userData.originalColor);
                                child.material.emissiveIntensity = 0.15;
                                child.scale.set(1, 1, 1);
                                child.material.needsUpdate = true;
                            }
                        });
                    });

                    // Reset connections
                    connectionObjects.forEach(c => {
                        c.line.material.color.setHex(c.originalColor);
                        c.line.material.opacity = 0.7;
                        c.line.material.linewidth = 2.5;
                    });

                    // Remove highlight from list
                    document.querySelectorAll('.item').forEach(item => item.classList.remove('highlight'));
                };

                list.appendChild(item);
            });

            updateConnectionStats();
        }

        function toggleChipExpand(chipId) {
            const dropdown = document.getElementById(`chip-connections-${chipId}`);
            const btn = event.target;
            if (dropdown.classList.contains('expanded')) {
                dropdown.classList.remove('expanded');
                btn.textContent = '▼';
                expandedChips.delete(chipId);
            } else {
                dropdown.classList.add('expanded');
                btn.textContent = '▲';
                expandedChips.add(chipId);
            }
        }

        function toggleChipVisibility(index) {
            const chipObj = chipObjects[index];
            chipObj.visible = !chipObj.visible;
            chipObj.mesh.visible = chipObj.visible;
            chipObj.label.visible = chipObj.visible;

            const item = document.getElementById(`chip-item-${chipObj.id}`);
            if (chipObj.visible) {
                item.classList.remove('hidden');
            } else {
                item.classList.add('hidden');
            }

            // Toggle all connections related to this chip
            connectionObjects.forEach((conn, connIndex) => {
                if (conn.src === chipObj.id || conn.dst === chipObj.id) {
                    conn.visible = chipObj.visible;
                    conn.line.visible = chipObj.visible;

                    // Update connection item in connections tab
                    const connItem = document.getElementById(`conn-item-${connIndex}`);
                    if (connItem) {
                        if (conn.visible) {
                            connItem.classList.remove('hidden');
                        } else {
                            connItem.classList.add('hidden');
                        }
                    }

                    // Update connection item in chip dropdown
                    const chipConnItem = document.getElementById(`chip-conn-${connIndex}`);
                    if (chipConnItem) {
                        if (conn.visible) {
                            chipConnItem.classList.remove('disabled');
                        } else {
                            chipConnItem.classList.add('disabled');
                        }
                    }
                }
            });

            // Refresh the chip list to update button states
            populateChipList();

            updateChipStats();
            updateConnectionStats();
        }

        function toggleConnectionVisibility(index) {
            const conn = connectionObjects[index];
            conn.visible = !conn.visible;
            conn.line.visible = conn.visible;

            // Update connection item in connections tab
            const item = document.getElementById(`conn-item-${index}`);
            if (item) {
                if (conn.visible) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
                // Update the eye icon
                const btn = item.querySelector('.toggle-visibility');
                if (btn) {
                    btn.innerHTML = conn.visible ? '&#x1F441;' : '&#x1F576;';
                }
            }

            // Update connection item in both chip dropdowns (from and to)
            // Update "from" chip's dropdown (-> direction)
            const chipConnItemFrom = document.getElementById(`chip-conn-from-${conn.src}-${index}`);
            if (chipConnItemFrom) {
                if (conn.visible) {
                    chipConnItemFrom.classList.remove('disabled');
                } else {
                    chipConnItemFrom.classList.add('disabled');
                }
                const btn = chipConnItemFrom.querySelector('.toggle-visibility');
                if (btn) {
                    btn.innerHTML = conn.visible ? '&#x1F441;' : '&#x1F576;';
                }
            }

            // Update "to" chip's dropdown (<- direction)
            const chipConnItemTo = document.getElementById(`chip-conn-to-${conn.dst}-${index}`);
            if (chipConnItemTo) {
                if (conn.visible) {
                    chipConnItemTo.classList.remove('disabled');
                } else {
                    chipConnItemTo.classList.add('disabled');
                }
                const btn = chipConnItemTo.querySelector('.toggle-visibility');
                if (btn) {
                    btn.innerHTML = conn.visible ? '&#x1F441;' : '&#x1F576;';
                }
            }

            updateConnectionStats();
        }

        function highlightChip(index) {
            // Remove previous highlights
            document.querySelectorAll('.item').forEach(item => item.classList.remove('highlight'));

            const chipObj = chipObjects[index];
            document.getElementById(`chip-item-${chipObj.id}`).classList.add('highlight');

            // Highlight chip in 3D
            chipObjects.forEach(obj => {
                obj.mesh.traverse((child) => {
                    if (child.isMesh && child.material) {
                        child.material.emissiveIntensity = 0.2;
                    }
                });
            });
            chipObj.mesh.traverse((child) => {
                if (child.isMesh && child.material) {
                    child.material.emissiveIntensity = 1.0;
                }
            });

            // Highlight connected connections
            connectionObjects.forEach(conn => {
                if (conn.src === chipObj.id || conn.dst === chipObj.id) {
                    conn.line.material.opacity = 1.0;
                    conn.line.material.linewidth = 3;
                } else {
                    conn.line.material.opacity = 0.2;
                    conn.line.material.linewidth = 1;
                }
            });
        }

        function highlightConnection(index) {
            // Remove previous highlights in UI
            document.querySelectorAll('.item').forEach(item => item.classList.remove('highlight'));

            const conn = connectionObjects[index];
            document.getElementById(`conn-item-${index}`).classList.add('highlight');

            // Get NOC coordinates for the ethernet cores involved
            const srcNoc = ethChannelToNoc[conn.srcCh];
            const dstNoc = ethChannelToNoc[conn.dstCh];

            // POP UP and highlight specific ethernet core tiles in BRIGHT ORANGE
            console.log(`=== Highlighting connection: Chip ${conn.src} Ch ${conn.srcCh} -> Chip ${conn.dst} Ch ${conn.dstCh} ===`);
            console.log(`Source NOC: (${srcNoc.x}, ${srcNoc.y}), Dest NOC: (${dstNoc.x}, ${dstNoc.y})`);

            let srcFound = false;
            let dstFound = false;

            // First pass: Reset all chips to normal state
            chipObjects.forEach(obj => {
                obj.mesh.traverse((child) => {
                    if (child.isMesh && child.material && child.userData) {
                        // Store original color if not stored
                        if (!child.userData.originalColor) {
                            child.userData.originalColor = child.material.color.getHex();
                        }
                        // Reset to original
                        child.material.color.setHex(child.userData.originalColor);
                        child.material.emissive.setHex(child.userData.originalColor);
                        child.material.emissiveIntensity = 0.15;
                        child.scale.set(1, 1, 1);
                        child.material.needsUpdate = true;
                    }
                });
            });

            // Reset all connections to their original color
            connectionObjects.forEach((c, i) => {
                c.line.material.color.setHex(c.originalColor);
                c.line.material.opacity = 0.7;
                c.line.material.linewidth = 2.5;
            });

            // Now highlight the selected connection
            conn.line.material.color.setHex(0xffff00);  // Bright yellow
            conn.line.material.opacity = 1.0;
            conn.line.material.linewidth = 4;

            // Second pass: Highlight the specific ethernet cores and dim everything else
            chipObjects.forEach(obj => {
                if (obj.id === conn.src) {
                    // Source chip - find and POP UP the ethernet core
                    console.log(`Searching source chip ${obj.id} for NOC(${srcNoc.x}, ${srcNoc.y})`);
                    obj.mesh.traverse((child) => {
                        if (child.isMesh && child.material && child.userData) {
                            if (child.userData.nocX !== undefined && child.userData.nocY !== undefined) {
                                if (child.userData.nocX === srcNoc.x && child.userData.nocY === srcNoc.y) {
                                    // FOUND IT! HIGHLIGHT & POP UP ethernet core
                                    console.log(`✓✓✓ FOUND AND POPPING UP source eth core at NOC(${child.userData.nocX}, ${child.userData.nocY}) ✓✓✓`);
                                    child.material.color.setHex(0xff0000);  // Bright red
                                    child.material.emissive.setHex(0xff3300);  // Glowing orange-red
                                    child.material.emissiveIntensity = 5.0;  // VERY bright
                                    child.scale.set(1.8, 4.0, 1.8);  // Much bigger and taller
                                    child.material.needsUpdate = true;
                                    child.updateMatrix();
                                    child.updateMatrixWorld(true);
                                    srcFound = true;
                                } else {
                                    // Dim other tiles on source chip
                                    child.material.emissiveIntensity = 0.05;
                                    child.material.needsUpdate = true;
                                }
                            }
                        }
                    });
                    if (!srcFound) console.error(`✗✗✗ DID NOT FIND source eth core at NOC(${srcNoc.x}, ${srcNoc.y}) on chip ${obj.id} ✗✗✗`);
                } else if (obj.id === conn.dst) {
                    // Destination chip - find and POP UP the ethernet core
                    console.log(`Searching dest chip ${obj.id} for NOC(${dstNoc.x}, ${dstNoc.y})`);
                    obj.mesh.traverse((child) => {
                        if (child.isMesh && child.material && child.userData) {
                            if (child.userData.nocX !== undefined && child.userData.nocY !== undefined) {
                                if (child.userData.nocX === dstNoc.x && child.userData.nocY === dstNoc.y) {
                                    // FOUND IT! HIGHLIGHT & POP UP ethernet core
                                    console.log(`✓✓✓ FOUND AND POPPING UP dest eth core at NOC(${child.userData.nocX}, ${child.userData.nocY}) ✓✓✓`);
                                    child.material.color.setHex(0xff0000);  // Bright red
                                    child.material.emissive.setHex(0xff3300);  // Glowing orange-red
                                    child.material.emissiveIntensity = 5.0;  // VERY bright
                                    child.scale.set(1.8, 4.0, 1.8);  // Much bigger and taller
                                    child.material.needsUpdate = true;
                                    child.updateMatrix();
                                    child.updateMatrixWorld(true);
                                    dstFound = true;
                                } else {
                                    // Dim other tiles on dest chip
                                    child.material.emissiveIntensity = 0.05;
                                    child.material.needsUpdate = true;
                                }
                            }
                        }
                    });
                    if (!dstFound) console.error(`✗✗✗ DID NOT FIND dest eth core at NOC(${dstNoc.x}, ${dstNoc.y}) on chip ${obj.id} ✗✗✗`);
                } else {
                    // Dim all other chips significantly
                    obj.mesh.traverse((child) => {
                        if (child.isMesh && child.material) {
                            child.material.emissiveIntensity = 0.03;
                            child.material.needsUpdate = true;
                        }
                    });
                }
            });

            if (srcFound && dstFound) {
                console.log('%c✓✓✓ Successfully popped up BOTH ethernet cores! ✓✓✓', 'color: green; font-weight: bold; font-size: 14px;');
            } else {
                console.error(`%c✗✗✗ Failed to find/popup cores: srcFound=${srcFound}, dstFound=${dstFound} ✗✗✗`, 'color: red; font-weight: bold; font-size: 14px;');
            }
        }

        function filterChips() {
            const search = document.getElementById('chip-search').value.toLowerCase();
            chipObjects.forEach((chipObj, index) => {
                const item = document.getElementById(`chip-item-${chipObj.id}`);
                const text = `chip ${chipObj.id} ${chipObj.connections}`.toLowerCase();
                if (text.includes(search)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function filterConnections() {
            const search = document.getElementById('conn-search').value.toLowerCase();
            connectionObjects.forEach((conn, index) => {
                const item = document.getElementById(`conn-item-${index}`);
                const text = `chip ${conn.src} ${conn.dst} ch ${conn.srcCh} ${conn.dstCh}`.toLowerCase();
                if (text.includes(search)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function updateChipStats() {
            document.getElementById('total-chips').textContent = chipObjects.length;
            document.getElementById('visible-chips').textContent = chipObjects.filter(c => c.visible).length;
        }

        function updateConnectionStats() {
            document.getElementById('total-connections').textContent = connectionObjects.length;
            document.getElementById('visible-connections').textContent = connectionObjects.filter(c => c.visible).length;
        }

        // 3D Object Selection with Raycasting
        const raycaster = new THREE.Raycaster();
        raycaster.params.Line.threshold = 0.1; // Very precise - must click directly on line
        const mouse = new THREE.Vector2();
        let selectedObject = null;
        let mouseDownPos = { x: 0, y: 0 };
        let mouseMoved = false;
        let lastClickPos = { x: 0, y: 0 };
        let lastClickTime = 0;
        let overlappingObjects = [];
        let currentOverlapIndex = 0;

        // Create info tooltip for selection
        const tooltip = document.createElement('div');
        tooltip.style.position = 'absolute';
        tooltip.style.display = 'none';
        tooltip.style.background = 'rgba(0, 0, 0, 0.9)';
        tooltip.style.color = 'white';
        tooltip.style.padding = '10px';
        tooltip.style.borderRadius = '5px';
        tooltip.style.fontSize = '12px';
        tooltip.style.pointerEvents = 'none';
        tooltip.style.zIndex = '1000';
        tooltip.style.maxWidth = '300px';
        tooltip.style.backdropFilter = 'blur(10px)';
        tooltip.style.border = '2px solid #3498db';
        document.body.appendChild(tooltip);

        function onMouseClick(event) {
            // Don't process if user was dragging (rotating camera)
            if (mouseMoved) {
                return;
            }

            // Don't process clicks on UI panel
            if (event.target.closest('#panel') || event.target.closest('#info') ||
                event.target.closest('#controls') || event.target.closest('#legend')) {
                return;
            }

            // Calculate mouse position in normalized device coordinates (-1 to +1)
            const rect = renderer.domElement.getBoundingClientRect();
            mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
            mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

            // Update raycaster
            raycaster.setFromCamera(mouse, camera);

            // First raycast: ONLY connections (with large threshold to make them easy to select)
            // This allows selecting connections even if chips are in front
            const connectionPickables = [];
            connectionObjects.forEach((conn, index) => {
                if (conn.visible) {
                    conn.line.userData = { type: 'connection', index: index };
                    connectionPickables.push(conn.line);
                }
            });

            const connectionIntersects = raycaster.intersectObjects(connectionPickables, false);

            // Second raycast: ONLY chips (with normal threshold, recursive for groups)
            const chipPickables = [];
            chipObjects.forEach((chipObj, index) => {
                if (chipObj.visible) {
                    // EXTEND userData on the group and all children (don't overwrite!)
                    chipObj.mesh.userData = { type: 'chip', index: index, ...chipObj.mesh.userData };
                    chipObj.mesh.traverse((child) => {
                        child.userData = { ...child.userData, type: 'chip', index: index, parent: chipObj.mesh };
                    });
                    chipPickables.push(chipObj.mesh);
                }
            });

            const chipIntersects = raycaster.intersectObjects(chipPickables, true); // Recursive for groups

            // Combine ALL results (no occlusion filtering - can select anything visible)
            const allIntersects = [];

            // Track unique chip hits (tiles within same group count as one chip)
            const chipHits = new Set();
            chipIntersects.forEach(intersect => {
                const index = intersect.object.userData.index;
                if (!chipHits.has(index)) {
                    chipHits.add(index);
                    allIntersects.push({
                        type: 'chip',
                        index: index,
                        distance: intersect.distance
                    });
                }
            });

            connectionIntersects.forEach(intersect => {
                allIntersects.push({
                    type: 'connection',
                    index: intersect.object.userData.index,
                    distance: intersect.distance
                });
            });

            // Sort by distance - closest objects first (click to cycle through all)
            allIntersects.sort((a, b) => a.distance - b.distance);

            if (allIntersects.length > 0) {
                // Check if clicking in same location within 1.5 seconds (cycle through overlapping objects)
                const currentTime = Date.now();
                const clickDistance = Math.sqrt(
                    Math.pow(event.clientX - lastClickPos.x, 2) +
                    Math.pow(event.clientY - lastClickPos.y, 2)
                );

                // If clicking in same spot (within 50px) and within 1.5 seconds, cycle through objects
                if (clickDistance < 50 && (currentTime - lastClickTime) < 1500 && overlappingObjects.length > 1) {
                    currentOverlapIndex = (currentOverlapIndex + 1) % overlappingObjects.length;
                } else {
                    // New click location - use all intersected objects sorted by distance
                    overlappingObjects = allIntersects;
                    currentOverlapIndex = 0;
                }

                lastClickPos = { x: event.clientX, y: event.clientY };
                lastClickTime = currentTime;

                // Select the current object in the cycle
                if (overlappingObjects.length > 0) {
                    const selectedObj = overlappingObjects[currentOverlapIndex];

                    if (selectedObj.type === 'chip') {
                        selectChip(selectedObj.index, event.clientX, event.clientY, overlappingObjects.length, currentOverlapIndex);
                    } else if (selectedObj.type === 'connection') {
                        selectConnection(selectedObj.index, event.clientX, event.clientY, overlappingObjects.length, currentOverlapIndex);
                    }
                }
            } else {
                deselectAll();
                overlappingObjects = [];
                currentOverlapIndex = 0;
            }
        }

        function selectChip(index, mouseX, mouseY, totalObjects = 1, currentIndex = 0) {
            deselectAll();

            const chipObj = chipObjects[index];
            selectedObject = { type: 'chip', object: chipObj };

            // Find all connections involving this chip
            const chipConnections = connectionObjects.filter(conn =>
                conn.src === chipObj.id || conn.dst === chipObj.id
            );

            // Show cycling info if multiple objects at location
            let cycleInfo = '';
            if (totalObjects > 1) {
                cycleInfo = `<div style="background: rgba(241, 196, 15, 0.2); padding: 5px; margin-top: 5px; border-radius: 3px; border-left: 3px solid #f39c12;">
                    <strong style="color: #f39c12;">&#x1F504; ${totalObjects} objects here</strong><br>
                    <span style="font-size: 10px;">Showing ${currentIndex + 1}/${totalObjects}</span><br>
                    <span style="font-size: 10px; color: #2ecc71;">Click again to cycle &#x27A1;</span>
                </div>`;
            }

            // Show tooltip
            tooltip.innerHTML = `
                <strong style="color: #f39c12;">&#x1F50D; CHIP ${chipObj.id}</strong><br>
                <span style="color: #3498db;">Tray:</span> ${chipObj.tray}<br>
                <span style="color: #3498db;">Location:</span> ${chipObj.location}<br>
                <span style="color: #2ecc71;">Connections:</span> ${chipObj.connections}<br>
                ${cycleInfo}
                <span style="color: #95a5a6; font-size: 10px; margin-top: 5px; display: block;">Click away to deselect</span>
            `;
            tooltip.style.display = 'block';
            tooltip.style.left = (mouseX + 15) + 'px';
            tooltip.style.top = (mouseY + 15) + 'px';

            // Use same highlight behavior as panel (just increase intensity, no color change)
            highlightChip(index);

            // Highlight connections and pop up the ethernet cores involved
            connectionObjects.forEach(conn => {
                if (conn.src === chipObj.id || conn.dst === chipObj.id) {
                    // Highlight this connection
                    conn.line.material.opacity = 0.9;
                    conn.line.material.linewidth = 3;
                } else {
                    // Dim other connections
                    conn.line.material.opacity = 0.1;
                }
            });

            // Pop up ethernet cores on this chip AND on connected chips
            chipConnections.forEach(conn => {
                // Get the NOC coordinates for both ends of this connection
                const srcNoc = ethChannelToNoc[conn.srcCh];
                const dstNoc = ethChannelToNoc[conn.dstCh];

                // Pop up the ethernet core on the source chip
                const srcChipObj = chipObjects.find(c => c.id === conn.src);
                if (srcChipObj) {
                    srcChipObj.mesh.traverse((child) => {
                        if (child.isMesh && child.material && child.userData) {
                            if (child.userData.nocX === srcNoc.x && child.userData.nocY === srcNoc.y) {
                                child.material.emissive.setHex(0xff6600);
                                child.material.emissiveIntensity = 1.5;
                                child.material.color.setHex(0xff6600);
                                child.scale.set(1.0, 2.0, 1.0);
                                child.material.needsUpdate = true;
                            }
                        }
                    });
                }

                // Pop up the ethernet core on the destination chip
                const dstChipObj = chipObjects.find(c => c.id === conn.dst);
                if (dstChipObj) {
                    dstChipObj.mesh.traverse((child) => {
                        if (child.isMesh && child.material && child.userData) {
                            if (child.userData.nocX === dstNoc.x && child.userData.nocY === dstNoc.y) {
                                child.material.emissive.setHex(0xff6600);
                                child.material.emissiveIntensity = 1.5;
                                child.material.color.setHex(0xff6600);
                                child.scale.set(1.0, 2.0, 1.0);
                                child.material.needsUpdate = true;
                            }
                        }
                    });
                }
            });
        }

        function selectConnection(index, mouseX, mouseY, totalObjects = 1, currentIndex = 0) {
            deselectAll();

            const conn = connectionObjects[index];
            selectedObject = { type: 'connection', object: conn };

            // Highlight connection with thicker line
            conn.line.material.color.setHex(0xf39c12);
            conn.line.material.opacity = 1.0;
            conn.line.material.linewidth = 4;

            // Get NOC coordinates for the ethernet cores involved
            const srcNoc = ethChannelToNoc[conn.srcCh];
            const dstNoc = ethChannelToNoc[conn.dstCh];

            // Show tooltip
            // Determine connection type from color
            const colorToType = {
                '0x3498db': 'Blue (Same-Tray Adjacent)',
                '0x9b59b6': 'Purple (Same-Tray Diagonal)',
                '0x2ecc71': 'Green (Cross-Tray Aligned)',
                '0xe74c3c': 'Red (Cross-Tray Diagonal)'
            };
            const connType = colorToType[conn.originalColor] || 'Unknown';

            // Show cycling info if multiple objects at location
            let cycleInfo = '';
            if (totalObjects > 1) {
                cycleInfo = `<div style="background: rgba(241, 196, 15, 0.2); padding: 5px; margin-top: 5px; border-radius: 3px; border-left: 3px solid #f39c12;">
                    <strong style="color: #f39c12;">&#x1F504; ${totalObjects} objects here</strong><br>
                    <span style="font-size: 10px;">Showing ${currentIndex + 1}/${totalObjects}</span><br>
                    <span style="font-size: 10px; color: #2ecc71;">Click again to cycle &#x27A1;</span>
                </div>`;
            }

            tooltip.innerHTML = `
                <strong style="color: #f39c12;">&#x1F50D; ETH CONNECTION</strong><br>
                <span style="color: #3498db;">From:</span> Chip ${conn.src} Ch ${conn.srcCh}<br>
                <span style="color: #95a5a6; font-size: 10px;">  └─ ETH Core @ NOC(${srcNoc.x}, ${srcNoc.y})</span><br>
                <span style="color: #3498db;">To:</span> Chip ${conn.dst} Ch ${conn.dstCh}<br>
                <span style="color: #95a5a6; font-size: 10px;">  └─ ETH Core @ NOC(${dstNoc.x}, ${dstNoc.y})</span><br>
                <span style="color: #2ecc71;">Type:</span> ${connType}<br>
                <span style="color: #9b59b6;">Routing:</span> Lane ${conn.groupIndex + 1} of ${conn.groupSize}<br>
                ${cycleInfo}
                <span style="color: #95a5a6; font-size: 10px; margin-top: 5px; display: block;">Click away to deselect</span>
            `;
            tooltip.style.display = 'block';
            tooltip.style.left = (mouseX + 15) + 'px';
            tooltip.style.top = (mouseY + 15) + 'px';

            // Highlight in panel
            document.getElementById(`conn-item-${index}`).classList.add('highlight');

            // Highlight connection line
            conn.line.material.color.setHex(0xf39c12);
            conn.line.material.opacity = 1.0;
            conn.line.material.linewidth = 4;

            // Dim all other connections
            connectionObjects.forEach(c => {
                if (c !== conn) {
                    c.line.material.opacity = 0.2;
                }
            });

            // HIGHLIGHT THE ETHERNET CORES - Pop them up in bright orange!
            console.log(`=== Highlighting ETH Connection: Chip ${conn.src} Ch ${conn.srcCh} -> Chip ${conn.dst} Ch ${conn.dstCh} ===`);
            console.log(`Source NOC: (${srcNoc.x}, ${srcNoc.y}), Type: ${typeof srcNoc.x}`);
            console.log(`Dest NOC: (${dstNoc.x}, ${dstNoc.y}), Type: ${typeof dstNoc.x}`);

            chipObjects.forEach(obj => {
                if (obj.id === conn.src) {
                    // Source chip - find and pop up the ethernet core
                    console.log(`>>> Checking source chip ${obj.id}`);
                    console.log(`>>> obj.mesh type: ${obj.mesh.type}, isGroup: ${obj.mesh.isGroup}, children count: ${obj.mesh.children ? obj.mesh.children.length : 'undefined'}`);
                    let tileCount = 0;
                    let ethTileCount = 0;
                    obj.mesh.traverse((child) => {
                        if (child.isMesh && child.material && child.userData) {
                            if (child.userData.nocX !== undefined && child.userData.nocY !== undefined) {
                                tileCount++;
                                // Log EVERY tile's coordinates for debugging
                                console.log(`  Tile #${tileCount}: NOC(${child.userData.nocX}, ${child.userData.nocY}), Type of nocX: ${typeof child.userData.nocX}`);
                                // Check if this is an ethernet tile (orange color)
                                if (child.userData.originalColor === 0xff8c00) {
                                    ethTileCount++;
                                    console.log(`  ^^ This is an ETH tile`);
                                }
                                if (child.userData.nocX === srcNoc.x && child.userData.nocY === srcNoc.y) {
                                    console.log(`>>> POPPING UP source eth core tile at NOC(${child.userData.nocX}, ${child.userData.nocY}) - Highlighting!`);
                                    // Make it visible but subtle
                                    child.material.emissive.setHex(0xff3300);  // Bright orange-red
                                    child.material.emissiveIntensity = 2.0;  // Bright
                                    child.material.color.setHex(0xff3300);
                                    child.scale.set(1.0, 2.5, 1.0);  // Same width, pop up 2.5x in height
                                    child.material.needsUpdate = true;
                                    child.updateMatrix();
                                } else {
                                    child.material.emissiveIntensity = 0.05;  // Very dim
                                    child.scale.set(1, 1, 1);
                                }
                            }
                        }
                    });
                    console.log(`Source chip ${obj.id}: Found ${tileCount} tiles total, ${ethTileCount} ethernet tiles`);
                } else if (obj.id === conn.dst) {
                    // Destination chip - find and pop up the ethernet core
                    let tileCount = 0;
                    let ethTileCount = 0;
                    obj.mesh.traverse((child) => {
                        if (child.isMesh && child.material && child.userData) {
                            if (child.userData.nocX !== undefined && child.userData.nocY !== undefined) {
                                tileCount++;
                                // Log EVERY tile's coordinates for debugging
                                console.log(`  Tile #${tileCount}: NOC(${child.userData.nocX}, ${child.userData.nocY}), Type of nocX: ${typeof child.userData.nocX}`);
                                // Check if this is an ethernet tile (orange color)
                                if (child.userData.originalColor === 0xff8c00) {
                                    ethTileCount++;
                                    console.log(`  ^^ This is an ETH tile`);
                                }
                                if (child.userData.nocX === dstNoc.x && child.userData.nocY === dstNoc.y) {
                                    console.log(`>>> POPPING UP dest eth core tile at NOC(${child.userData.nocX}, ${child.userData.nocY}) - Highlighting!`);
                                    // Make it visible but subtle
                                    child.material.emissive.setHex(0xff3300);  // Bright orange-red
                                    child.material.emissiveIntensity = 2.0;  // Bright
                                    child.material.color.setHex(0xff3300);
                                    child.scale.set(1.0, 2.5, 1.0);  // Same width, pop up 2.5x in height
                                    child.material.needsUpdate = true;
                                    child.updateMatrix();
                                } else {
                                    child.material.emissiveIntensity = 0.05;  // Very dim
                                    child.scale.set(1, 1, 1);
                                }
                            }
                        }
                    });
                    console.log(`Dest chip ${obj.id}: Found ${tileCount} tiles total, ${ethTileCount} ethernet tiles`);
                } else {
                    // Other chips - dim everything
                    obj.mesh.traverse((child) => {
                        if (child.isMesh && child.material) {
                            child.material.emissiveIntensity = 0.1;
                            child.scale.set(1, 1, 1);
                        }
                    });
                }
            });
        }

        function deselectAll() {
            // Reset all chip materials and scales
            chipObjects.forEach(chipObj => {
                // Traverse group and reset all tile materials and scales
                chipObj.mesh.traverse((child) => {
                    if (child.isMesh && child.material) {
                        // Store original color if not already stored
                        if (!child.userData.originalColor) {
                            child.userData.originalColor = child.material.color.getHex();
                        }
                        // Reset to original color
                        child.material.color.setHex(child.userData.originalColor);
                        // Reset emissive based on tile's original color
                        child.material.emissive.setHex(child.userData.originalColor);
                        child.material.emissiveIntensity = 0.15;
                        // Reset scale for individual tiles
                        child.scale.set(1, 1, 1);
                        child.material.needsUpdate = true;
                    }
                });
                chipObj.mesh.scale.set(1, 1, 1);
            });

            // Reset all connection materials
            connectionObjects.forEach(conn => {
                conn.line.material.color.setHex(conn.originalColor);
                conn.line.material.opacity = 0.7;
                conn.line.material.linewidth = 2.5;
            });

            // Hide tooltip
            tooltip.style.display = 'none';

            // Clear highlights in panel
            document.querySelectorAll('.item').forEach(item => item.classList.remove('highlight'));

            // Reset cursor
            renderer.domElement.style.cursor = 'default';

            // Clear selection state
            selectedObject = null;
            overlappingObjects = [];
            currentOverlapIndex = 0;
        }

        // Add click event listener
        renderer.domElement.addEventListener('click', onMouseClick, false);

        // Hover highlighting (for better UX - shows what's clickable)
        let hoveredObject = null;
        renderer.domElement.addEventListener('mousemove', (event) => {
            // Update tooltip position if visible
            if (tooltip.style.display === 'block') {
                tooltip.style.left = (event.clientX + 15) + 'px';
                tooltip.style.top = (event.clientY + 15) + 'px';
            }

            // Don't hover-highlight while dragging
            if (isDragging) {
                return;
            }

            // Calculate mouse position
            const rect = renderer.domElement.getBoundingClientRect();
            mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
            mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);

            // Separate raycasts for connections and chips (prioritize connections)
            const connectionPickables = [];
            connectionObjects.forEach((conn) => {
                if (conn.visible) {
                    connectionPickables.push(conn.line);
                }
            });
            const connectionIntersects = raycaster.intersectObjects(connectionPickables, false);

            const chipPickables = [];
            chipObjects.forEach((chipObj, index) => {
                if (chipObj.visible) {
                    chipObj.mesh.traverse((child) => {
                        child.userData = { ...child.userData, type: 'chip', index: index, parent: chipObj.mesh };
                    });
                    chipPickables.push(chipObj.mesh);
                }
            });
            const chipIntersects = raycaster.intersectObjects(chipPickables, true); // Recursive for groups

            // Track unique chip hits for hover (tiles within same group count as one chip)
            const uniqueChipHits = new Map();
            chipIntersects.forEach(intersect => {
                const index = intersect.object.userData.index;
                if (!uniqueChipHits.has(index)) {
                    uniqueChipHits.set(index, intersect);
                }
            });

            // Combine all intersects and sort by distance (closest first, no occlusion)
            const allHoverIntersects = [
                ...connectionIntersects.map(i => ({ ...i, objType: 'connection' })),
                ...Array.from(uniqueChipHits.values()).map(i => ({ ...i, objType: 'chip' }))
            ].sort((a, b) => a.distance - b.distance);

            // Clear previous hover
            if (hoveredObject) {
                // Check if hover object is the currently selected object
                const isHoverSelected = selectedObject &&
                    hoveredObject.type === selectedObject.type &&
                    hoveredObject.object === selectedObject.object;

                if (!isHoverSelected) {
                    // Clear hover highlight (not the selected object)
                    if (hoveredObject.type === 'chip') {
                        hoveredObject.object.mesh.scale.set(1, 1, 1);
                    } else if (hoveredObject.type === 'connection') {
                        // Reset connection to appropriate state based on selection context
                        const conn = hoveredObject.object;
                        const originalColorHex = conn.originalColor || 0x3498db;
                        conn.line.material.color.setHex(originalColorHex);
                        conn.line.material.linewidth = 2.5;

                        // If a chip is selected, restore faded state; otherwise restore normal state
                        if (selectedObject && selectedObject.type === 'chip') {
                            const selectedChipId = selectedObject.object.id;
                            // Check if this connection is related to selected chip
                            if (conn.src === selectedChipId || conn.dst === selectedChipId) {
                                conn.line.material.opacity = 1.0;
                                conn.line.material.linewidth = 3;
                            } else {
                                conn.line.material.opacity = 0.2;
                                conn.line.material.linewidth = 2.5;
                            }
                        } else if (selectedObject && selectedObject.type === 'connection') {
                            // Another connection is selected, dim this one
                            conn.line.material.opacity = 0.2;
                        } else {
                            // Nothing selected, restore normal opacity
                            conn.line.material.opacity = 0.7;
                        }
                    }
                }
                hoveredObject = null;
                renderer.domElement.style.cursor = 'default';
            }

            // Apply new hover to CLOSEST object (works even when something is selected)
            if (allHoverIntersects.length > 0) {
                const closestIntersect = allHoverIntersects[0];
                const userData = closestIntersect.object.userData;

                if (userData.type === 'chip') {
                    const chipObj = chipObjects[userData.index];

                    // Check if this is the currently selected chip
                    const isSelected = selectedObject &&
                                      selectedObject.type === 'chip' &&
                                      selectedObject.object === chipObj;

                    if (!isSelected) {
                        // Apply hover effect (outline or scale boost)
                        chipObj.mesh.scale.set(1.05, 1.05, 1.05);
                    }
                    // If it's selected, it already has the selection highlight

                    hoveredObject = { type: 'chip', object: chipObj };
                    renderer.domElement.style.cursor = 'pointer';
                } else if (userData.type === 'connection') {
                    const conn = connectionObjects[userData.index];

                    // Check if this is the currently selected connection
                    const isSelected = selectedObject &&
                                      selectedObject.type === 'connection' &&
                                      selectedObject.object === conn;

                    if (!isSelected) {
                        // Apply hover effect (cyan/teal color for preview)
                        conn.line.material.linewidth = 3;
                        conn.line.material.opacity = 1.0;
                        conn.line.material.color.setHex(0x1abc9c); // Teal for hover preview
                    }
                    // If it's selected, it already has the orange selection highlight

                    hoveredObject = { type: 'connection', object: conn };
                    renderer.domElement.style.cursor = 'pointer';
                }
            } else {
                // No intersects - make sure cursor is default
                renderer.domElement.style.cursor = 'default';
            }
        });

        // Initialize lists
        setTimeout(() => {
            populateChipList();
            populateConnectionList();
        }, 100);

        console.log('3D Topology Visualization loaded successfully!');
        console.log('Click on chips or connections to select and view details');
    </script>
</body>
</html>
