name: "CI Pipeline Failure Report"
description: "Report a failing test in a CI pipeline"
title: "[CI Failure] {{ pipeline_name }} - {{ test_name }}"
labels: ["ci-failure", "triage"]
body:
  - type: input
    id: pipeline_name
    attributes:
      label: "Pipeline Name"
      description: "Name of the failing pipeline"
      placeholder: "e.g. (TG) TG unit tests"
    validations:
      required: true

  - type: input
    id: test_name
    attributes:
      label: "Test Name"
      description: "Name of the failing test"
      placeholder: "e.g., TG-UMD-tests"
    validations:
      required: true

  - type: input
    id: test_path
    attributes:
      label: "Path to Test in Repo"
      description: "Relative file path in the repo where the test is defined"
      placeholder: "e.g., tt_metal/third_party/umd/tests/galaxy/test_umd_concurrent_threads.cpp"
    validations:
      required: true

  - type: dropdown
    id: is_nd
    attributes:
      label: "Is this a Non-Deterministic (ND) failure?"
      options:
        - "Yes"
        - "No"
    validations:
      required: true

  - type: dropdown
    id: hang
    attributes:
      label: "Is this a hang?"
      options:
        - "Yes"
        - "No"
    validations:
      required: true

  - type: dropdown
    id: timeout
    attributes:
      label: "Is this a timeout?"
      options:
        - "Yes"
        - "No"
    validations:
      required: true

  - type: textarea
    id: failure_snippet
    attributes:
      label: "Failure Signature Snippet"
      description: "Paste the relevant portion of the error or log output"
      render: shell
    validations:
      required: true

  - type: input
    id: pipeline_link
    attributes:
      label: "Link to Failing Pipeline or ND Custom Dispatch Run"
      description: "Paste the link to the CI run showing the failure"
      placeholder: "https://github.com/org/repo/actions/runs/123456789"
    validations:
      required: true
