name: Bug Report
description: Report a functional bug or unexpected behavior with a minimal repro.
title: "[area]: brief summary"
labels: ["bug", "needs-triage"]
assignees: []

body:
  - type: input
    id: area
    attributes:
      label: Component / Area
      placeholder: e.g., compiler, runtime, kernels, tt-metal API
    validations:
      required: true

  - type: checkboxes
    id: type
    attributes:
      label: Issue type
      options:
        - label: Functional bug
        - label: Crash
        - label: Hang
        - label: Wrong results
        - label: Other unexpected behavior

  - type: dropdown
    id: priority
    attributes:
      label: Priority
      description: Select priority and **add the same P0/P1/P2/P3 label manually** after submission.
      options:
        - P0 (Blocking)
        - P1 (High)
        - P2 (Medium)
        - P3 (Low)
    validations:
      required: true

  - type: textarea
    id: impact
    attributes:
      label: Impact
      description: Who/what is blocked and by when?
      value: |
        Affected workflows or users:
        Release/date risk:
    validations:
      required: true

  - type: dropdown
    id: regression
    attributes:
      label: Is this a regression?
      options: ["Unknown", "Yes", "No"]
      default: 0
    validations:
      required: true

  - type: textarea
    id: versions
    attributes:
      label: Versions / SHAs
      description: Provide exact versions and SHAs for reproducibility.
      value: |
        Repo commit (git rev-parse HEAD):
        TT-Metal version:
        Firmware / Driver version:
        Container image tag & runtime:
        Compiler & Python versions:
        Build options / env vars / feature flags:
        Random seed(s):
        First bad / Last known good (if regression):
        Git bisect status:
    validations:
      required: true

  - type: textarea
    id: environment
    attributes:
      label: Environment & Topology
      value: |
        Chips/board/topology (LB/QB/Galaxy; #chips; links):
        Host OS & kernel; CPU/RAM/NIC:
        Board configuration; thermals/power (if relevant):
    validations:
      required: true

  - type: textarea
    id: repro
    attributes:
      label: Minimal Reproduction (exact)
      description: Provide exact commands/code and input data.
      value: |
        Steps (exact commands):
        Minimal repro link/archive:
        Input data path & checksum:
        Frequency (always/%/conditions):
        Time/iterations to reproduce:
    validations:
      required: true

  - type: textarea
    id: observed_expected
    attributes:
      label: Observed vs Expected
      value: |
        Observed behavior:
        Expected behavior (what should happen):
        Failure mode: [crash|hang|wrong results|other]
    validations:
      required: true

  - type: textarea
    id: diagnostics
    attributes:
      label: Logs & Diagnostics
      description: Attach relevant outputs, logs, and traces.
      value: |
        Error/stack traces (full text):
        Logs (level + excerpts or archive):
        Device profiler output:
        Wormhole/trace files:
        Core dumps (with symbolization instructions):
    validations:
      required: false

  - type: textarea
    id: context
    attributes:
      label: Technical Context (optional)
      value: |
        Test/benchmark name:
        Input shapes/dtypes/memory layout:
        Kernel/op; dispatch mode; memory allocation patterns:
    validations:
      required: false

  - type: textarea
    id: attempts
    attributes:
      label: Workarounds & Attempts
      value: |
        Workarounds tried (effect/cost):
        Debugging steps attempted:
        Suspected root cause/area:
        Related issues/PRs:
    validations:
      required: false

  - type: textarea
    id: attachments
    attributes:
      label: Attachments
      description: Upload logs/traces/min-repro archive or provide links.
    validations:
      required: false
