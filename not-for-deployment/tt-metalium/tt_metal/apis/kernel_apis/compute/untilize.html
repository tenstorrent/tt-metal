<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>untilize &mdash; TT-Metalium  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/tt_theme.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/favicon.png"/>
    <link rel="canonical" href="/tt-metal/latest/tt-metalium/tt_metal/apis/kernel_apis/compute/untilize.html" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js?v=b3ba4146"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="add_binary_tile" href="add_binary_tile.html" />
    <link rel="prev" title="tilize" href="tilize.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >



<a href="https://docs.tenstorrent.com/">
    <img src="../../../../_static/tt_logo.svg" class="logo" alt="Logo"/>
</a>

<a href="../../../../index.html">
    TT-Metalium
</a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../get_started/get_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../installing.html">Install</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">TT-Metalium</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../programming_model/index.html">Programming Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Programming Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced_topics/index.html">Advanced Topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">APIs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../host_apis.html">Host APIs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../kernel_apis.html">Kernel APIs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../kernel_apis.html#common-apis">Common APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../kernel_apis.html#data-movement">Data Movement</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../kernel_apis.html#compute">Compute</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="compute.html">Compute APIs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pack_unpack/packing_apis.html">Packing APIs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sfpu/llk.html">Low Level Kernels</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/index.html">Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../resources/support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../resources/contributing.html">Contributing as a developer</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">TT-Metalium</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">APIs</a></li>
          <li class="breadcrumb-item"><a href="../../kernel_apis.html">Kernel APIs</a></li>
          <li class="breadcrumb-item"><a href="compute.html">Compute APIs</a></li>
      <li class="breadcrumb-item active">untilize</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/tt_metal/apis/kernel_apis/compute/untilize.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="untilize">
<h1>untilize<a class="headerlink" href="#untilize" title="Permalink to this heading"></a>
</h1>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7ckernel13untilize_initE8uint32_t">
<span class="target" id="namespaceckernel_1af3d22c0cab195f203b1f2f6d110e3c51"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">ckernel</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">untilize_init</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">icb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7ckernel13untilize_initE8uint32_t" title="Permalink to this definition"></a><br>
</dt>
<dd>
<p>Initializes the hardware and internal state for the untilize operation. This function should be called before performing any untilize operations in the compute kernel. The circular buffer (CB) ID provided must correspond to the buffer containing the input data to be untilized. If the data format or properties of the input operand differ from those previously configured, ensure that the appropriate reconfiguration functions are called before this initialization.</p>
<p>Return value: None</p>
<p></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd">
<th class="head"><p>Param Type   </p></th>
<th class="head"><p>Name   </p></th>
<th class="head"><p>Description   </p></th>
<th class="head"><p>Type   </p></th>
<th class="head"><p>Valid Range   </p></th>
<th class="head"><p>Required    </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>Function   </p></td>
<td><p>icb   </p></td>
<td><p>The identifier of the circular buffer (CB) for input data   </p></td>
<td><p>uint32_t   </p></td>
<td><p>0 to 31   </p></td>
<td><p>True   </p></td>
</tr>
</tbody>
</table>

</dd>
</dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_8uint32_tEN7ckernel14untilize_blockEv8uint32_t8uint32_t8uint32_t">
<span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">block_ct_dim</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">&gt;</span></span><br><span class="target" id="namespaceckernel_1a708c24dc5b1fdf60bd406e6baf153db1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">ckernel</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">untilize_block</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">icb</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">full_ct_dim</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ocb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I_8uint32_tEN7ckernel14untilize_blockEv8uint32_t8uint32_t8uint32_t" title="Permalink to this definition"></a><br>
</dt>
<dd>
<p>Copies a block of tiles from the DEST register buffer to the specified circular buffer (CB) for the untilize operation. This function is used to transfer multiple tiles at once, with the number of tiles determined by the template parameter <code class="docutils literal notranslate"><span class="pre">block_ct_dim</span></code>. The DEST register buffer must be in the acquired state before calling this function. The CB ID provided must correspond to the buffer where the untilized data will be stored. Note that the maximum size of the block is limited by the size of the DEST and synchronization mode used. These are maximum sizes:</p>
<ul class="simple">
<li><p>half-sync mode (16-bit mode): 8 tiles</p></li>
<li><p>half-sync mode (32-bit mode): 4 tiles</p></li>
<li><p>full-sync mode (16-bit mode): 16 tiles</p></li>
<li><p>full-sync mode (32-bit mode): 8 tiles</p></li>
</ul>

<p>Return value: None</p>
<p></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd">
<th class="head"><p>Param Type   </p></th>
<th class="head"><p>Name   </p></th>
<th class="head"><p>Description   </p></th>
<th class="head"><p>Type   </p></th>
<th class="head"><p>Valid Range   </p></th>
<th class="head"><p>Required    </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>Template   </p></td>
<td><p>block_ct_dim   </p></td>
<td><p>The number of tiles stored in DEST at one moment   </p></td>
<td><p>uint32_t   </p></td>
<td><p>1 to max (see comment)   </p></td>
<td><p>False    </p></td>
</tr>
<tr class="row-odd">
<td><p>Function   </p></td>
<td><p>icb   </p></td>
<td><p>The identifier of the circular buffer (CB) for input   </p></td>
<td><p>uint32_t   </p></td>
<td><p>0 to 31   </p></td>
<td><p>True    </p></td>
</tr>
<tr class="row-even">
<td><p>Function   </p></td>
<td><p>full_ct_dim   </p></td>
<td><p>Width of a full input in tiles   </p></td>
<td><p>uint32_t   </p></td>
<td><p>Divisible by block_ct_dim   </p></td>
<td><p>True    </p></td>
</tr>
<tr class="row-odd">
<td><p>Function   </p></td>
<td><p>ocb   </p></td>
<td><p>The identifier of the circular buffer (CB) for output   </p></td>
<td><p>uint32_t   </p></td>
<td><p>0 to 31   </p></td>
<td><p>True   </p></td>
</tr>
</tbody>
</table>

</dd>
</dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N7ckernel15untilize_uninitE8uint32_t">
<span class="target" id="namespaceckernel_1a9a9d99d57d7e3d97a8554498e24b55c8"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">ckernel</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">untilize_uninit</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">icb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N7ckernel15untilize_uninitE8uint32_t" title="Permalink to this definition"></a><br>
</dt>
<dd>
<p>Restores hardware and internal state after the untilize operation is complete. This function should be called after untilize_block operation is finished. The circular buffer (CB) ID provided must correspond to the buffer that was used for the untilize operation and it’s initialization.</p>
<p>NOTE: This function is not in line with our programming model, and will be removed by the end of 2025 as a part of tt-metal#22904.</p>
<p>Return value: None</p>
<p></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd">
<th class="head"><p>Param Type   </p></th>
<th class="head"><p>Name   </p></th>
<th class="head"><p>Description   </p></th>
<th class="head"><p>Type   </p></th>
<th class="head"><p>Valid Range   </p></th>
<th class="head"><p>Required    </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>Function   </p></td>
<td><p>icb   </p></td>
<td><p>The identifier of the circular buffer (CB) for input data   </p></td>
<td><p>uint32_t   </p></td>
<td><p>0 to 31   </p></td>
<td><p>True   </p></td>
</tr>
</tbody>
</table>

</dd>
</dl>

</section>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tilize.html" class="btn btn-neutral float-left" title="tilize" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="add_binary_tile.html" class="btn btn-neutral float-right" title="add_binary_tile" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Tenstorrent.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        Version: <span id="current-version">latest</span>
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl id="version-list">
            <dt>Versions</dt>
        </dl>
        <br>
        </dl>
    </div>
</div>

<script>
const VERSIONS_URL = 'https://raw.githubusercontent.com/tenstorrent/tt-metal/refs/heads/main/docs/published_versions.json';

async function loadVersions() {
    try {
        const response = await fetch(VERSIONS_URL);
        const data = await response.json();
        const versionList = document.getElementById('version-list');
        const projectCode = location.pathname.split('/')[3];

        data.versions.forEach(version => {
            const dd = document.createElement('dd');
            const link = document.createElement('a');
            link.href = `https://docs.tenstorrent.com/tt-metal/${version}/${projectCode}/index.html`;
            link.textContent = version;
            dd.appendChild(link);
            versionList.appendChild(dd);
        });
    } catch (error) {
        console.error('Error loading versions:', error);
    }
}

loadVersions();

function getCurrentVersion() {
    return window.location.pathname.split('/')[2];
}
document.getElementById('current-version').textContent = getCurrentVersion();

const versionEl = document.createElement("span");
versionEl.innerText = getCurrentVersion();
versionEl.className = "project-versions";
const wySideSearchEl = document.getElementsByClassName("wy-side-nav-search").item(0);
if (wySideSearchEl) {
    const projectNameEl = wySideSearchEl.children.item(1);
    if (projectNameEl) projectNameEl.appendChild(versionEl);
}

</script><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>